<!doctype html>
<html class="no-js" lang="ru" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Алфавитный указатель" href="../genindex.html" /><link rel="search" title="Поиск" href="../search.html" /><link rel="prev" title="Installation" href="../about/installation.html" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>sloyka.src package - документация sloyka 0.1.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/rtd_sphinx_search.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">документация sloyka 0.1.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">документация sloyka 0.1.0</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Поиск" name="q" aria-label="Поиск">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">About:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">sloyka.src package</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/user/sloyka.src.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="sloyka-src-package">
<h1>sloyka.src package<a class="headerlink" href="#sloyka-src-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-sloyka.src.area_matcher">
<span id="sloyka-src-area-matcher-module"></span><h2>sloyka.src.area_matcher module<a class="headerlink" href="#module-sloyka.src.area_matcher" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.area_matcher.AreaMatcher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.area_matcher.</span></span><span class="sig-name descname"><span class="pre">AreaMatcher</span></span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.area_matcher.AreaMatcher" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.area_matcher.AreaMatcher.get_df_areas">
<span class="sig-name descname"><span class="pre">get_df_areas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.get_df_areas"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.area_matcher.AreaMatcher.get_df_areas" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.area_matcher.AreaMatcher.match_group_to_area">
<span class="sig-name descname"><span class="pre">match_group_to_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.match_group_to_area"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.area_matcher.AreaMatcher.match_group_to_area" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.area_matcher.AreaMatcher.preprocess_area_names">
<span class="sig-name descname"><span class="pre">preprocess_area_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.preprocess_area_names"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.area_matcher.AreaMatcher.preprocess_area_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.area_matcher.AreaMatcher.preprocess_group_name">
<span class="sig-name descname"><span class="pre">preprocess_group_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.preprocess_group_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.area_matcher.AreaMatcher.preprocess_group_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.area_matcher.AreaMatcher.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.area_matcher.AreaMatcher.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.city_services_extract">
<span id="sloyka-src-city-services-extract-module"></span><h2>sloyka.src.city_services_extract module<a class="headerlink" href="#module-sloyka.src.city_services_extract" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.city_services_extract.City_services">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.city_services_extract.</span></span><span class="sig-name descname"><span class="pre">City_services</span></span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.city_services_extract.City_services" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.city_services_extract.City_services.extraction_services">
<span class="sig-name descname"><span class="pre">extraction_services</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.extraction_services"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.city_services_extract.City_services.extraction_services" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.city_services_extract.City_services.remove_last_letter">
<span class="sig-name descname"><span class="pre">remove_last_letter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.remove_last_letter"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.city_services_extract.City_services.remove_last_letter" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.city_services_extract.City_services.replace_with_most_similar">
<span class="sig-name descname"><span class="pre">replace_with_most_similar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.replace_with_most_similar"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.city_services_extract.City_services.replace_with_most_similar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.city_services_extract.City_services.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.city_services_extract.City_services.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.comments_reply">
<span id="sloyka-src-comments-reply-module"></span><h2>sloyka.src.comments_reply module<a class="headerlink" href="#module-sloyka.src.comments_reply" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.comments_reply.CommentsReply">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.comments_reply.</span></span><span class="sig-name descname"><span class="pre">CommentsReply</span></span><a class="reference internal" href="../_modules/sloyka/src/comments_reply.html#CommentsReply"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.comments_reply.CommentsReply" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.comments_reply.CommentsReply.comments_to_dataframe">
<span class="sig-name descname"><span class="pre">comments_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comments</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/comments_reply.html#CommentsReply.comments_to_dataframe"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.comments_reply.CommentsReply.comments_to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Generate a DataFrame from a list of comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>comments</strong> – list of comments to be converted into a DataFrame</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing selected columns from the comments</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.comments_reply.CommentsReply.get_comments">
<span class="sig-name descname"><span class="pre">get_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/comments_reply.html#CommentsReply.get_comments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.comments_reply.CommentsReply.get_comments" title="Link to this definition"></a></dt>
<dd><p>Retrieves comments for a specific post from VK API.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the post owner.</p></li>
<li><p><strong>post_id</strong> (<em>int</em>) – The ID of the post.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for authentication.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of dictionaries containing comment information.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.comments_reply.CommentsReply.get_subcomments">
<span class="sig-name descname"><span class="pre">get_subcomments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/comments_reply.html#CommentsReply.get_subcomments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.comments_reply.CommentsReply.get_subcomments" title="Link to this definition"></a></dt>
<dd><p>Retrieves subcomments for a given post from VK API.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the owner of the post.</p></li>
<li><p><strong>post_id</strong> (<em>int</em>) – The ID of the post.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for making the API request.</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – Additional parameters for the API request.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of subcomments for the given post.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.constants">
<span id="sloyka-src-constants-module"></span><h2>sloyka.src.constants module<a class="headerlink" href="#module-sloyka.src.constants" title="Link to this heading"></a></h2>
</section>
<section id="module-sloyka.src.data_getter">
<span id="sloyka-src-data-getter-module"></span><h2>sloyka.src.data_getter module<a class="headerlink" href="#module-sloyka.src.data_getter" title="Link to this heading"></a></h2>
<p>This module contains classes for retrieving and working with various types of data.</p>
<p>&#64;class:GeoDataGetter:
This class is used to retrieve geospatial data from OpenStreetMap (OSM) based on given OSM ID and tags.</p>
<p>&#64;class:VKParser:
A class for parsing and working with VK comments and posts. Combines posts and comments into one dataframe.</p>
<p>&#64;class:Streets:
A class for working with street data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.data_getter.GeoDataGetter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.data_getter.</span></span><span class="sig-name descname"><span class="pre">GeoDataGetter</span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#GeoDataGetter"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.GeoDataGetter" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is used to retrieve geospatial data from OpenStreetMap (OSM) based on given OSM ID and tags.</p>
<p>Methods:
- get_features_from_id: Retrieves features from the given OSM ID using the provided tags and OSM type, and returns the results as a GeoDataFrame.
- _get_place_from_id: Retrieves the place from the given OSM ID and OSM type.
- _process_tags: Processes the provided tags and returns a list of GeoDataFrames.
- _get_features_from_place: Retrieves features from a specific place based on category and tag.
- _handle_error: Handles any errors that occur during the process and prints an error message.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.GeoDataGetter.get_features_from_id">
<span class="sig-name descname"><span class="pre">get_features_from_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'R'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['tag',</span> <span class="pre">'element_type',</span> <span class="pre">'osmid',</span> <span class="pre">'name',</span> <span class="pre">'geometry',</span> <span class="pre">'centroid']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#GeoDataGetter.get_features_from_id"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.GeoDataGetter.get_features_from_id" title="Link to this definition"></a></dt>
<dd><p>Get features from the given OSM ID using the provided tags and OSM type, and return the results as a GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>tags</strong> (<em>dict</em>) – The tags to filter by.</p></li>
<li><p><strong>osm_type</strong> (<em>str</em><em>, </em><em>optional</em>) – The OpenStreetMap type. Defaults to «R».</p></li>
<li><p><strong>selected_columns</strong> (<em>list</em><em>, </em><em>optional</em>) – The selected columns to include in the result GeoDataFrame. Defaults to [„tag“, „element_type“, „osmid“, „name“, „geometry“, „centroid“].</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The GeoDataFrame containing the features.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.data_getter.HistGeoDataGetter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.data_getter.</span></span><span class="sig-name descname"><span class="pre">HistGeoDataGetter</span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#HistGeoDataGetter"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.HistGeoDataGetter" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.HistGeoDataGetter.get_features_from_id">
<span class="sig-name descname"><span class="pre">get_features_from_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'R'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['tag',</span> <span class="pre">'key',</span> <span class="pre">'element_type',</span> <span class="pre">'osmid',</span> <span class="pre">'name',</span> <span class="pre">'geometry',</span> <span class="pre">'centroid']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#HistGeoDataGetter.get_features_from_id"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.HistGeoDataGetter.get_features_from_id" title="Link to this definition"></a></dt>
<dd><p>Get features from the given OSM ID using the provided tags and OSM type, and return the results as a GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>tags</strong> (<em>dict</em>) – The tags to filter by.</p></li>
<li><p><strong>osm_type</strong> (<em>str</em><em>, </em><em>optional</em>) – The OpenStreetMap type. Defaults to «R».</p></li>
<li><p><strong>selected_columns</strong> (<em>list</em><em>, </em><em>optional</em>) – The selected columns to include in the result GeoDataFrame. Defaults to [„tag“, „key“, „element_type“, „osmid“, „name“, „geometry“, „centroid“].</p></li>
<li><p><strong>date</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – The date for which to retrieve data. If not provided, the current date is used. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The GeoDataFrame containing the features.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.HistGeoDataGetter.get_place_name_from_osm_id">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_place_name_from_osm_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'R'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#HistGeoDataGetter.get_place_name_from_osm_id"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.HistGeoDataGetter.get_place_name_from_osm_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.HistGeoDataGetter.query_year_from_osm_id">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query_year_from_osm_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#HistGeoDataGetter.query_year_from_osm_id"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.HistGeoDataGetter.query_year_from_osm_id" title="Link to this definition"></a></dt>
<dd><p>Retrieves a graph from OpenStreetMap for a given OSM ID, date, and network type.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>date</strong> (<em>str</em>) – The date for which to retrieve data.</p></li>
<li><p><strong>network_type</strong> (<em>str</em>) – The network type.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph from OpenStreetMap, or None if the place name is not found.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>networkx.Graph or None</p>
</dd>
<dt class="field-even">Исключение<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.HistGeoDataGetter.set_overpass_settings">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_overpass_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#HistGeoDataGetter.set_overpass_settings"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.HistGeoDataGetter.set_overpass_settings" title="Link to this definition"></a></dt>
<dd><p>Sets the overpass settings for the OpenStreetMap API.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The date for which to retrieve data. If not provided, the current date is used.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.data_getter.Streets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.data_getter.</span></span><span class="sig-name descname"><span class="pre">Streets</span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#Streets"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.Streets" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class encapsulates functionality for retrieving street data
for a specified city from OSM and processing it to extract useful
information for geocoding purposes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.Streets.get_city_bounds">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_city_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#Streets.get_city_bounds"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.Streets.get_city_bounds" title="Link to this definition"></a></dt>
<dd><p>Method retrieves the boundary of a specified city from OSM
using Overpass API and returns a GeoDataFrame representing
the boundary as a polygon.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.data_getter.Streets.global_crs">
<span class="sig-name descname"><span class="pre">global_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4326</span></em><a class="headerlink" href="#sloyka.src.data_getter.Streets.global_crs" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.data_getter.</span></span><span class="sig-name descname"><span class="pre">VKParser</span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.API_VERISON">
<span class="sig-name descname"><span class="pre">API_VERISON</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'5.131'</span></em><a class="headerlink" href="#sloyka.src.data_getter.VKParser.API_VERISON" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.COUNT_ITEMS">
<span class="sig-name descname"><span class="pre">COUNT_ITEMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100</span></em><a class="headerlink" href="#sloyka.src.data_getter.VKParser.COUNT_ITEMS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.TIMEOUT_LIMIT">
<span class="sig-name descname"><span class="pre">TIMEOUT_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">15</span></em><a class="headerlink" href="#sloyka.src.data_getter.VKParser.TIMEOUT_LIMIT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.comments_to_dataframe">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">comments_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comments</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.comments_to_dataframe"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.comments_to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Convert comments to a DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>comments</strong> – List of comments to be converted.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing specific columns from the input comments.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.get_comments">
<span class="sig-name descname"><span class="pre">get_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_comments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.get_comments" title="Link to this definition"></a></dt>
<dd><p>Get comments for a post on VK using the specified owner ID, post ID, and access token.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the post owner.</p></li>
<li><p><strong>post_id</strong> (<em>int</em>) – The ID of the post.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for authentication.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of dictionaries containing comment information.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.get_group_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_group_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accsess_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_group_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.get_group_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.get_group_post_ids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_group_post_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_num_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_group_post_ids"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.get_group_post_ids" title="Link to this definition"></a></dt>
<dd><p>A static method to retrieve a list of post IDs for a given group, based on the owner ID,
access token, post number limit, and step size. Returns a list of post IDs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.get_owner_id_by_domain">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_owner_id_by_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_owner_id_by_domain"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.get_owner_id_by_domain" title="Link to this definition"></a></dt>
<dd><p>Get the owner ID of a VK group by its domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<em>str</em>) – The domain of the VK group.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for the VK API.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The owner ID of the VK group, or None if the request was not successful.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.get_subcomments">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_subcomments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_subcomments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.get_subcomments" title="Link to this definition"></a></dt>
<dd><p>Retrieves subcomments from the VK API.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the owner of the comments.</p></li>
<li><p><strong>post_id</strong> (<em>int</em>) – The ID of the post.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for authentication.</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – Additional parameters for the API request.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of subcomments retrieved from the API.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.run_comments">
<span class="sig-name descname"><span class="pre">run_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.run_comments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.run_comments" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.run_parser">
<span class="sig-name descname"><span class="pre">run_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.run_parser"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.run_parser" title="Link to this definition"></a></dt>
<dd><p>Runs the parser with the given parameters and returns a combined DataFrame of posts and comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> – The owner ID for the parser.</p></li>
<li><p><strong>access_token</strong> – The user token for authentication.</p></li>
<li><p><strong>step</strong> – The step size for fetching data.</p></li>
<li><p><strong>cutoff_date</strong> – The cutoff date for fetching data.</p></li>
<li><p><strong>number_of_messages</strong> – The maximum number of messages to fetch. Defaults to positive infinity.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A combined DataFrame of posts and comments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.data_getter.VKParser.run_posts">
<span class="sig-name descname"><span class="pre">run_posts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.run_posts"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.data_getter.VKParser.run_posts" title="Link to this definition"></a></dt>
<dd><p>A function to retrieve posts from a social media API based on specified parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the owner whose posts are being retrieved.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The authentication token for accessing the API.</p></li>
<li><p><strong>step</strong> (<em>int</em>) – The number of posts to retrieve in each API call.</p></li>
<li><p><strong>cutoff_date</strong> (<em>str</em>) – The date to stop retrieving posts (format: „%Y-%m-%d“).</p></li>
<li><p><strong>number_of_messages</strong> (<em>float</em>) – The maximum number of messages to retrieve (default is infinity).</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing the retrieved posts.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.emotionclass">
<span id="sloyka-src-emotionclass-module"></span><h2>sloyka.src.emotionclass module<a class="headerlink" href="#module-sloyka.src.emotionclass" title="Link to this heading"></a></h2>
<p>This module contains the EmotionClassifiers class, which is designed to categorise input texts into emotion categories.
It uses a Huggingface transformer model trained on Bert_Large by default.
The EmotionClassifiers class has the following method:
&#64;method:recognize_emotion: Adding an emotion category.
&#64;method:recognize_average_emotion_from_multiple_models: Adding an average emotion category or the most likely emotion
category using multiple models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.emotionclass.EmotionRecognizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.emotionclass.</span></span><span class="sig-name descname"><span class="pre">EmotionRecognizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Text.Bert_Large</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/emotionclass.html#EmotionRecognizer"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.emotionclass.EmotionRecognizer" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is designed to categorise input texts into emotion categories.</p>
<blockquote>
<div><p>Attributes:</p>
</div></blockquote>
<ul class="simple">
<li><p>model: This attribute holds the model used for emotion recognition. It defaults to HuggingFaceModel.Text.Bert_Large,</p></li>
</ul>
<p>but can be set to any other compatible model during the instantiation of the class.</p>
<ul class="simple">
<li><p>device: the device to use for inference. It automatically selects „cuda“ (GPU) if a compatible GPU</p></li>
</ul>
<p>is available and CUDA is enabled, otherwise, it falls back to „cpu“.</p>
<ul class="simple">
<li><p>text: The text to be analyzed.</p></li>
<li><p>df: The DataFrame containing the text to be analyzed.</p></li>
<li><p>text_column: The name of the column containing the text to be analyzed.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.emotionclass.EmotionRecognizer.recognize_average_emotion_from_multiple_models">
<span class="sig-name descname"><span class="pre">recognize_average_emotion_from_multiple_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/emotionclass.html#EmotionRecognizer.recognize_average_emotion_from_multiple_models"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.emotionclass.EmotionRecognizer.recognize_average_emotion_from_multiple_models" title="Link to this definition"></a></dt>
<dd><p>Calculate the prevailing emotion using multiple models for a DataFrame column.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.emotionclass.EmotionRecognizer.recognize_emotion">
<span class="sig-name descname"><span class="pre">recognize_emotion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/emotionclass.html#EmotionRecognizer.recognize_emotion"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.emotionclass.EmotionRecognizer.recognize_emotion" title="Link to this definition"></a></dt>
<dd><p>Return the emotion for a given text.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.event_detection">
<span id="sloyka-src-event-detection-module"></span><h2>sloyka.src.event_detection module<a class="headerlink" href="#module-sloyka.src.event_detection" title="Link to this heading"></a></h2>
<p>This module contains the EventDetection class, which is aimed to generate events and their connections based
on the application of semantic clustering method (BERTopic) on the texts in the context of an urban spatial model.</p>
<p>The EventDetection class has the following methods:</p>
<p>&#64;method:_get_roads:
Get the road network of a city as road links and roads.</p>
<p>&#64;method:_get_buildings:
Get the buildings of a city as a GeoDataFrame.</p>
<p>&#64;method:_collect_population:
Collect population data for each object (building, street, link).</p>
<p>&#64;method:_preprocess:
Preprocess the data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.event_detection.EventDetection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.event_detection.</span></span><span class="sig-name descname"><span class="pre">EventDetection</span></span><a class="reference internal" href="../_modules/sloyka/src/event_detection.html#EventDetection"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.event_detection.EventDetection" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is aimed to generate events and their connections.
It is based on the application of semantic clustering method (BERTopic)
on the texts in the context of urban spatial model</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.event_detection.EventDetection.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath_to_population</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_event_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/event_detection.html#EventDetection.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.event_detection.EventDetection.run" title="Link to this definition"></a></dt>
<dd><p>Returns a GeoDataFrame of events, a GeoDataFrame of
connections between events, and a GeoDataFrame of messages.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.geocoder">
<span id="sloyka-src-geocoder-module"></span><h2>sloyka.src.geocoder module<a class="headerlink" href="#module-sloyka.src.geocoder" title="Link to this heading"></a></h2>
<p>This module is aimed to provide necessary tools to find mentioned
location in the text.</p>
<p>&#64;class:Location:
A class aimed to efficiently geocode addresses using Nominatim. Geocoded addresses are stored in the „book“ dictionary argument.
Thus, if the address repeats, it would be taken from the book.</p>
<p>&#64;class:Streets:
A class encapsulating functionality for retrieving street data
for a specified city from OSM and processing it to extract useful information for geocoding purposes.</p>
<p>&#64;class:Geocoder:
A class providing functionality for simple geocoding and address extraction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.geocoder.AddrNEWExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.geocoder.</span></span><span class="sig-name descname"><span class="pre">AddrNEWExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">morph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#AddrNEWExtractor"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.AddrNEWExtractor" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Extractor</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.AddrNEWExtractor.find">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#AddrNEWExtractor.find"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.AddrNEWExtractor.find" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.geocoder.</span></span><span class="sig-name descname"><span class="pre">Geocoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Geor111y/flair-ner-addresses-extractor'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Санкт-Петербург'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a functionality of simple geocoder</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.assign_street">
<span class="sig-name descname"><span class="pre">assign_street</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.assign_street"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.assign_street" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.create_gdf">
<span class="sig-name descname"><span class="pre">create_gdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.create_gdf"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.create_gdf" title="Link to this definition"></a></dt>
<dd><p>Function simply creates gdf from the recognised geocoded geometries.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.dir_path">
<span class="sig-name descname"><span class="pre">dir_path</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/Users/test/Documents/code/sloyka/sloyka/src'</span></em><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.dir_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.extract_building_num">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_building_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">street_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'string'</span> <span class="pre">from</span> <span class="pre">'/opt/homebrew/Cellar/python&#64;3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/string.py'&gt;</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.extract_building_num"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.extract_building_num" title="Link to this definition"></a></dt>
<dd><p>The function finds the already extracted street name in the text
and searches for numbers related to building numbers in a certain range of indexes
around the street name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.extract_ner_street">
<span class="sig-name descname"><span class="pre">extract_ner_street</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.extract_ner_street"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.extract_ner_street" title="Link to this definition"></a></dt>
<dd><p>Function calls the pre-trained custom NER model to extract mentioned
addresses from the texts (usually comment) in social networks in
russian language.
The model scores 0.8 in F1 and other metrics.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.extract_toponym">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_toponym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">street_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'string'</span> <span class="pre">from</span> <span class="pre">'/opt/homebrew/Cellar/python&#64;3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/string.py'&gt;</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.extract_toponym"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.extract_toponym" title="Link to this definition"></a></dt>
<dd><p>The function finds the already extracted street name in the text
and searches for words related to toponyms in a certain range of indexes
around the street name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.find_word_form">
<span class="sig-name descname"><span class="pre">find_word_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strts_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.find_word_form"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.find_word_form" title="Link to this definition"></a></dt>
<dd><p>In the Russian language, any word has different forms.
Since addresses are extracted from the texts in social networks,
they might be in any possible form. This function is aimed to match that
free form to the one that is used in the OSM database.</p>
<p>Since the stem is found there would be several streets with that stem
in their name.
However, the searching street name has its specific ending (form) and
not each matched street name could have it.</p>
<p>TODO: add spellchecker since there might be misspelled words.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.get_df_areas">
<span class="sig-name descname"><span class="pre">get_df_areas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_df_areas"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.get_df_areas" title="Link to this definition"></a></dt>
<dd><p>Retrieves the GeoDataFrame of areas corresponding to the given OSM ID and tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>tags</strong> (<em>dict</em>) – The tags to filter by.</p></li>
<li><p><strong>date</strong> (<em>str</em>) – The date of the data to retrieve.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The GeoDataFrame containing the areas.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
<p>This function first checks if the GeoDataFrame corresponding to the given OSM ID is already in the cache.
If it is, it returns the cached GeoDataFrame. Otherwise, it retrieves the GeoDataFrame from the HistGeoDataGetter,
filters out the „way“ elements, and adds it to the cache. Finally, it returns the GeoDataFrame from the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.get_level">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_level"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.get_level" title="Link to this definition"></a></dt>
<dd><p>Addresses in the messages are recognized on different scales:
1. Where we know the street name and house number – house level;
2. Where we know only street name – street level (with the centroid
geometry of the street);
3. Where we don’t know any info but the city – global level.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.get_ner_address_natasha">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_ner_address_natasha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EXCEPTIONS_CITY_COUNTRY</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_col</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'string'</span> <span class="pre">from</span> <span class="pre">'/opt/homebrew/Cellar/python&#64;3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/string.py'&gt;</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_ner_address_natasha"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.get_ner_address_natasha" title="Link to this definition"></a></dt>
<dd><p>The function extracts street names in the text, using the Natasha library,
in cases where BERT could not.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.get_stem">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_stem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">street_names_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_stem"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.get_stem" title="Link to this definition"></a></dt>
<dd><p>Function finds the stem of the word to find this stem in the street
names dictionary (df).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.get_street">
<span class="sig-name descname"><span class="pre">get_street</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_street"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.get_street" title="Link to this definition"></a></dt>
<dd><p>Function calls NER model and post-process result in order to extract
the address mentioned in the text.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.global_crs">
<span class="sig-name descname"><span class="pre">global_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4326</span></em><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.global_crs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.match_group_to_area">
<span class="sig-name descname"><span class="pre">match_group_to_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.match_group_to_area"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.match_group_to_area" title="Link to this definition"></a></dt>
<dd><p>Matches a given group name to an area in a DataFrame of areas.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_name</strong> (<em>str</em>) – The name of the group to match.</p></li>
<li><p><strong>df_areas</strong> (<em>DataFrame</em>) – The DataFrame containing the areas to match against.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple containing the best match for the group name and the admin level of the match.</dt><dd><p>If no match is found, returns (None, None).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.merge_to_initial_df">
<span class="sig-name descname"><span class="pre">merge_to_initial_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.merge_to_initial_df"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.merge_to_initial_df" title="Link to this definition"></a></dt>
<dd><p>This function merges geocoded df to the initial df in order to keep
all original attributes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.preprocess_area_names">
<span class="sig-name descname"><span class="pre">preprocess_area_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.preprocess_area_names"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.preprocess_area_names" title="Link to this definition"></a></dt>
<dd><p>Preprocesses the area names in the given DataFrame by removing specified stopwords, converting the names to lowercase,
and stemming them.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df_areas</strong> (<em>DataFrame</em>) – The DataFrame containing the area names.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The DataFrame with preprocessed area names, where the „area_name“ column contains the original names</dt><dd><p>with stopwords removed, the „area_name_processed“ column contains the lowercase names with special characters
removed, and the „area_stems“ column contains the stemmed names.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.preprocess_group_name">
<span class="sig-name descname"><span class="pre">preprocess_group_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.preprocess_group_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.preprocess_group_name" title="Link to this definition"></a></dt>
<dd><p>Preprocesses a group name by converting it to lowercase, removing special characters, and removing specified stopwords.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_name</strong> (<em>str</em>) – The group name to preprocess.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The preprocessed group name.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'group_name'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.run" title="Link to this definition"></a></dt>
<dd><p>Runs the data processing pipeline on the input DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>tags</strong> (<em>dict</em>) – The tags to filter by.</p></li>
<li><p><strong>date</strong> (<em>str</em>) – The date of the data to retrieve.</p></li>
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the text column in the DataFrame. Defaults to «text».</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed DataFrame after running the data processing pipeline.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
<p>This function retrieves the GeoDataFrame of areas corresponding to the given OSM ID and tags.
It then preprocesses the area names and matches each group name to an area. The best match
and admin level are assigned to the DataFrame. The function also retrieves other geographic
objects and street names, preprocesses the street names, finds the word form, creates a GeoDataFrame,
merges it with the other geographic objects, assigns the street tag, and returns the final GeoDataFrame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Geocoder.set_global_repr_point">
<span class="sig-name descname"><span class="pre">set_global_repr_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.set_global_repr_point"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Geocoder.set_global_repr_point" title="Link to this definition"></a></dt>
<dd><p>This function set the centroid (actually, representative point) of the
geocoded addresses to those texts that weren’t geocoded (or didn’t
contain any addresses according to the trained NER model).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Location">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.geocoder.</span></span><span class="sig-name descname"><span class="pre">Location</span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Location"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Location" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is aimed to efficiently geocode addresses using Nominatim.
Geocoded addresses are stored in the „book“ dictionary argument.
Thus, if the address repeats – it would be taken from the book.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Location.geocode_with_retry">
<span class="sig-name descname"><span class="pre">geocode_with_retry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Location.geocode_with_retry"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Location.geocode_with_retry" title="Link to this definition"></a></dt>
<dd><p>Function to handle 403 error while geocoding using Nominatim.
TODO: 1. Provide an option to use alternative geocoder
TODO: 2. Wrap this function as a decorator</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Location.max_tries">
<span class="sig-name descname"><span class="pre">max_tries</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#sloyka.src.geocoder.Location.max_tries" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Location.query">
<span class="sig-name descname"><span class="pre">query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Location.query"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Location.query" title="Link to this definition"></a></dt>
<dd><p>A function to query the address and return its geocode if available.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>address</strong> – A string representing the address to be queried.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>An optional list of floats representing the geocode of the address, or None if not found.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.geocoder.</span></span><span class="sig-name descname"><span class="pre">OtherGeoObjects</span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.calculate_centroid">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_centroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.calculate_centroid"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.calculate_centroid" title="Link to this definition"></a></dt>
<dd><p>This function counts the centroid for polygons.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.combine_city_obj">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">combine_city_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_obj</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.combine_city_obj"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.combine_city_obj" title="Link to this definition"></a></dt>
<dd><p>This function combines the found named urban objects and urban objects whose names are in the form of numbers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.expand_toponim">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expand_toponim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_obj</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.expand_toponim"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.expand_toponim" title="Link to this definition"></a></dt>
<dd><p>This function splits the list of found entities into different rows for further analysis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.extract_geo_obj">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_geo_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.extract_geo_obj"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.extract_geo_obj" title="Link to this definition"></a></dt>
<dd><p>The function extracts location entities from the text, using the Natasha library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.find_geo_obj_tag">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_geo_obj_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">toponim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_combined_df</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.find_geo_obj_tag"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.find_geo_obj_tag" title="Link to this definition"></a></dt>
<dd><p>This function finds the geo_obj_tag in the OSM array by the name of the city object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.find_geometry">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">toponim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_combined_df</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.find_geometry"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.find_geometry" title="Link to this definition"></a></dt>
<dd><p>This function finds the coordinate in the OSM array by the name of the city object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.find_num_city_obj">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_num_city_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NUM_CITY_OBJ</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.find_num_city_obj"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.find_num_city_obj" title="Link to this definition"></a></dt>
<dd><p>This function searches for urban objects in the text, the names of which are represented as a number. For example, «school No. 6».</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_cemetery">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_cemetery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_cemetery"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_cemetery" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about cemetery.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_green_obj">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_green_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_green_obj"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_green_obj" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about green_obj.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_historic">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_historic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_historic"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_historic" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about historical obj.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_natural">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_natural</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_natural"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_natural" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about natural obj.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_num_obj">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_num_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_num_obj"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_num_obj" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about amenity.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_railway">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_railway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_railway"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_railway" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about railway obj.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_square">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_square</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_square"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_square" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about square obj.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_OSM_tourism">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSM_tourism</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_OSM_tourism"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_tourism" title="Link to this definition"></a></dt>
<dd><p>This function sets spatial data from OSM about tourism obj.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.get_and_process_osm_data">
<span class="sig-name descname"><span class="pre">get_and_process_osm_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_data_function</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.get_and_process_osm_data"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.get_and_process_osm_data" title="Link to this definition"></a></dt>
<dd><p>This function allows you to build an OSM array for different urban objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.restoration_of_normal_form">
<span class="sig-name descname"><span class="pre">restoration_of_normal_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_combined_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.restoration_of_normal_form"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.restoration_of_normal_form" title="Link to this definition"></a></dt>
<dd><p>This function compares the extracted location entity with an OSM array and returns a normalized form if the percentage of similarity is at least 70%.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.run">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.run" title="Link to this definition"></a></dt>
<dd><p>This function launches the module for extracting urban objects from texts that do not relate to streets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.OtherGeoObjects.run_OSM_dfs">
<span class="sig-name descname"><span class="pre">run_OSM_dfs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#OtherGeoObjects.run_OSM_dfs"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.OtherGeoObjects.run_OSM_dfs" title="Link to this definition"></a></dt>
<dd><p>This function collects dataframes with OSM spatial data, finds centroids and combines files into one.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.geocoder.</span></span><span class="sig-name descname"><span class="pre">Streets</span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class encapsulates functionality for retrieving street data
for a specified city from OSM and processing it to extract useful
information for geocoding purposes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.clear_names">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clear_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streets_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.clear_names"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.clear_names" title="Link to this definition"></a></dt>
<dd><p>This function pre-process the street names from the OSM.
This step is necessary to match recognised street addresses later.
We need to do this match because Nominatim is very sensitive geocoder
and requires almost exact match between addresses in the OSM database
and the geocoding address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.drop_words_from_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">drop_words_from_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.drop_words_from_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.drop_words_from_name" title="Link to this definition"></a></dt>
<dd><p>This function drops parts of street names that are not the name
of the street (e.g. avenue).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.find_toponim_words_from_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_toponim_words_from_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.find_toponim_words_from_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.find_toponim_words_from_name" title="Link to this definition"></a></dt>
<dd><p>A method to find toponim words from the given name string.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>str</em>) – The input name string.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The found toponim word from the input name string, or None if not found.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.get_city_bounds">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_city_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.get_city_bounds"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.get_city_bounds" title="Link to this definition"></a></dt>
<dd><p>Method retrieves the boundary of a specified city from OSM
using Overpass API and returns a GeoDataFrame representing
the boundary as a polygon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.get_drive_graph">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_drive_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">city_bounds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MultiDiGraph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.get_drive_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.get_drive_graph" title="Link to this definition"></a></dt>
<dd><p>Method uses the OSMnx library to retrieve the street network for a
specified city and returns it as a NetworkX MultiDiGraph object, where
each edge represents a street segment and each node represents
an intersection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.get_street_names">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_street_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.get_street_names"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.get_street_names" title="Link to this definition"></a></dt>
<dd><p>Method extracts the unique street names from a
GeoDataFrame of street segments.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.global_crs">
<span class="sig-name descname"><span class="pre">global_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4326</span></em><a class="headerlink" href="#sloyka.src.geocoder.Streets.global_crs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.graph_to_gdf">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">graph_to_gdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G_drive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MultiDiGraph</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.graph_to_gdf"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.graph_to_gdf" title="Link to this definition"></a></dt>
<dd><p>Method converts the street network from a NetworkX MultiDiGraph object
to a GeoDataFrame representing the edges (streets) with columns
for street name, length, and geometry.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.geocoder.Streets.run">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Streets.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.geocoder.Streets.run" title="Link to this definition"></a></dt>
<dd><p>A static method to run the process of getting street data based on the given
OSM city name and level, returning a pandas DataFrame.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.graph_visualization">
<span id="sloyka-src-graph-visualization-module"></span><h2>sloyka.src.graph_visualization module<a class="headerlink" href="#module-sloyka.src.graph_visualization" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sloyka.src.graph_visualization.visualize_graph">
<span class="sig-prename descclassname"><span class="pre">sloyka.src.graph_visualization.</span></span><span class="sig-name descname"><span class="pre">visualize_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/graph_visualization.html#visualize_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.graph_visualization.visualize_graph" title="Link to this definition"></a></dt>
<dd><p>Visualizes a graph from the given graph_path using Folium and MarkerCluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph_path</strong> (<em>str</em>) – The path to the graphml file.</p></li>
<li><p><strong>output_file</strong> (<em>str</em><em>, </em><em>optional</em>) – The file to save the visualization to. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The folium map object representing the visualized graph.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>folium.Map</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sloyka.src.ner_parklike">
<span id="sloyka-src-ner-parklike-module"></span><h2>sloyka.src.ner_parklike module<a class="headerlink" href="#module-sloyka.src.ner_parklike" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.AddrNEWExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.ner_parklike.</span></span><span class="sig-name descname"><span class="pre">AddrNEWExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">morph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#AddrNEWExtractor"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.AddrNEWExtractor" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Extractor</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.AddrNEWExtractor.find">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#AddrNEWExtractor.find"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.AddrNEWExtractor.find" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.ner_parklike.</span></span><span class="sig-name descname"><span class="pre">NER_parklike</span></span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.OSM_park_import">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OSM_park_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">city_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.OSM_park_import"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.OSM_park_import" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.cut_park_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cut_park_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.cut_park_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.cut_park_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.extract_parklike">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_parklike</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.extract_parklike"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.extract_parklike" title="Link to this definition"></a></dt>
<dd><p>The function extracts parklike entities in the text, using the Natasha library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.match_point_name">
<span class="sig-name descname"><span class="pre">match_point_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.match_point_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.match_point_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.natasha_normalization">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">natasha_normalization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_ind</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.natasha_normalization"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.natasha_normalization" title="Link to this definition"></a></dt>
<dd><p>This function extracts entities and normalize them. For entities that match the
extraction of «extract_parklike», it returns a normalized form.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.similar">
<span class="sig-name descname"><span class="pre">similar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.similar"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.similar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.ner_parklike.NER_parklike.split_parkwords">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split_parkwords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.split_parkwords"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.ner_parklike.NER_parklike.split_parkwords" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.rule_for_natasha">
<span id="sloyka-src-rule-for-natasha-module"></span><h2>sloyka.src.rule_for_natasha module<a class="headerlink" href="#module-sloyka.src.rule_for_natasha" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.AddrPart">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">AddrPart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#AddrPart"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.AddrPart" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">AddrPart</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.AddrPart.obj">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">obj</span></span><a class="headerlink" href="#sloyka.src.rule_for_natasha.AddrPart.obj" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Building">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">Building</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#Building"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.Building" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Building</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Building.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sloyka.src.rule_for_natasha.Building.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Index">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">Index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#Index"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.Index" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Index.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'индекс'</span></em><a class="headerlink" href="#sloyka.src.rule_for_natasha.Index.type" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Raion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">Raion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#Raion"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.Raion" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Raion</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Raion.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sloyka.src.rule_for_natasha.Raion.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Region">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">Region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#Region"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.Region" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Region</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Region.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sloyka.src.rule_for_natasha.Region.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Room">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">Room</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#Room"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.Room" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Room</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Room.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sloyka.src.rule_for_natasha.Room.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Settlement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">Settlement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#Settlement"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.Settlement" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">Settlement</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Settlement.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sloyka.src.rule_for_natasha.Settlement.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Street">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">Street</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#Street"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.Street" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <a class="reference internal" href="#sloyka.src.rule_for_natasha.Settlement" title="sloyka.src.rule_for_natasha.Settlement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settlement</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.Street.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sloyka.src.rule_for_natasha.Street.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sloyka.src.rule_for_natasha.value">
<span class="sig-prename descclassname"><span class="pre">sloyka.src.rule_for_natasha.</span></span><span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/rule_for_natasha.html#value"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.rule_for_natasha.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-sloyka.src.semantic_graph">
<span id="sloyka-src-semantic-graph-module"></span><h2>sloyka.src.semantic_graph module<a class="headerlink" href="#module-sloyka.src.semantic_graph" title="Link to this heading"></a></h2>
<p>&#64;class:Semgraph:
The main class of the semantic graph module. It is aimed to build a semantic graph based on the provided data
and parameters.
More convenient to use after extracting data from geocoder.</p>
<p>The Semgraph class has the following methods:</p>
<p>&#64;method:clean_from_dublicates:
A function to clean a DataFrame from duplicates based on specified columns.</p>
<p>&#64;method:clean_from_digits:
Removes digits from the text in the specified column of the input DataFrame.</p>
<p>&#64;method:clean_from_toponyms:
Clean the text in the specified text column by removing any words that match the toponyms in the name and
toponym columns.</p>
<p>&#64;method:aggregate_data:
Creates a new DataFrame by aggregating the data based on the provided text and toponyms columns.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.semantic_graph.</span></span><span class="sig-name descname"><span class="pre">Semgraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bert_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'DeepPavlov/rubert-base-cased'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'russian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the main class of semantic graph module.
It is aimed to build a semantic graph based on the provided data and parameters.
More convinient to use after extracting data from geocoder.</p>
<p>Param:
bert_name: the name of the BERT model to use (default is „DeepPavlov/rubert-base-cased“)
language: the language of the BERT model (default is „russian“)
device: the device to use for inference (default is „cpu“)</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.add_attributes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.add_attributes"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.add_attributes" title="Link to this definition"></a></dt>
<dd><p>Add attributes to nodes in the graph based on the specified conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The graph to which attributes will be added.</p></li>
<li><p><strong>new_attributes</strong> (<em>dict</em>) – A dictionary containing the new attributes to be added.</p></li>
<li><p><strong>attribute_tag</strong> (<em>str</em>) – The tag of the attribute to be added.</p></li>
<li><p><strong>toponym_attributes</strong> (<em>bool</em>) – A boolean flag indicating whether to add attributes to toponyms.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with the new attributes added.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.add_city_graph">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_city_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">districts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">municipals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">district_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.add_city_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.add_city_graph" title="Link to this definition"></a></dt>
<dd><p>Add a city graph to the input graph based on the provided district and municipal data.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>districts</strong> (<em>gpd.GeoDataFrame</em>) – The district data.</p></li>
<li><p><strong>municipals</strong> (<em>gpd.GeoDataFrame</em>) – The municipal data.</p></li>
<li><p><strong>city_column</strong> (<em>str</em>) – The column name in districts containing the city data.</p></li>
<li><p><strong>district_column</strong> (<em>str</em>) – The column name in municipals containing the district data.</p></li>
<li><p><strong>name_column</strong> (<em>str</em>) – The column name in districts and municipals containing the name data.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em>) – The column name in districts and municipals containing the geometry data.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Whether the graph should be directed. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with the added city graph.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.build_graph">
<span class="sig-name descname"><span class="pre">build_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parents_stack_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.build_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.build_graph" title="Link to this definition"></a></dt>
<dd><p>Build a graph based on the provided data.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input data to build the graph from.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The column containing unique identifiers.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The column containing text information.</p></li>
<li><p><strong>text_type_column</strong> (<em>str</em>) – The column indicating the type of text.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column containing toponym information.</p></li>
<li><p><strong>toponym_name_column</strong> (<em>str</em>) – The column containing toponym names.</p></li>
<li><p><strong>toponym_type_column</strong> (<em>str</em>) – The column containing toponym types.</p></li>
<li><p><strong>post_id_column</strong> (<em>str</em>) – The column containing post identifiers.</p></li>
<li><p><strong>parents_stack_column</strong> (<em>str</em>) – The column containing parent-child relationships.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Flag indicating if the graph is directed. Defaults to True.</p></li>
<li><p><strong>location_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing location information. Defaults to None.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing geometry information. Defaults to None.</p></li>
<li><p><strong>key_score_filter</strong> (<em>float</em>) – The threshold for key score filtering. Defaults to 0.6.</p></li>
<li><p><strong>semantic_score_filter</strong> (<em>float</em>) – The threshold for semantic score filtering. Defaults to 0.75.</p></li>
<li><p><strong>top_n</strong> (<em>int</em>) – The number of top keywords to extract. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The constructed graph.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.calculate_distances">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.calculate_distances"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.calculate_distances" title="Link to this definition"></a></dt>
<dd><p>Calculate the distances between pairs of nodes in the graph and add them as edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Whether the graph should be directed or undirected. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>NetworkX graph object with added distance edges</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>G</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.clean_from_digits">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_digits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_digits"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.clean_from_digits" title="Link to this definition"></a></dt>
<dd><p>Removes digits from the text in the specified column of the input DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the text column to clean.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The DataFrame with the specified text column cleaned from digits.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.clean_from_dublicates">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_dublicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_dublicates"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.clean_from_dublicates" title="Link to this definition"></a></dt>
<dd><p>A function to clean a DataFrame from duplicates based on specified columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – The input DataFrame to be cleaned.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The name of the column to use as the unique identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A cleaned DataFrame or GeoDataFrame without duplicates based on the
specified text column.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.clean_from_links">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_links"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.clean_from_links" title="Link to this definition"></a></dt>
<dd><p>Clean the text in the specified text column by removing links and specific patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the column containing the text to be cleaned.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The DataFrame with the cleaned text.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.clean_from_toponyms">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_toponyms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_toponyms"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.clean_from_toponyms" title="Link to this definition"></a></dt>
<dd><p>Clean the text in the specified text column by removing any words that match the toponyms in the name
and toponym columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the column containing the text to be cleaned.</p></li>
<li><p><strong>name_column</strong> (<em>str</em>) – The name of the column containing the toponym name (e.g. Nevski, Moika etc).</p></li>
<li><p><strong>toponym_type_column</strong> (<em>str</em>) – The name of the column containing the toponym type</p></li>
<li><p><strong>street</strong> (<em>(</em><em>e.g.</em>)</p></li>
<li><p><strong>alley</strong></p></li>
<li><p><strong>etc.</strong><strong>)</strong><strong>.</strong> (<em>avenue</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The DataFrame or GeoDataFrame with the cleaned text.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.convert_df_to_edge_df">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_df_to_edge_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_info_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'words_score'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.convert_df_to_edge_df"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.convert_df_to_edge_df" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.extract_keywords">
<span class="sig-name descname"><span class="pre">extract_keywords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parents_stack_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_key_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.extract_keywords"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.extract_keywords" title="Link to this definition"></a></dt>
<dd><p>Extract keywords from the given data based on certain criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input data containing information.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The column in the data containing text information.</p></li>
<li><p><strong>text_type_column</strong> (<em>str</em>) – The column in the data indicating the type of text (e.g., post, comment, reply).</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column in the data containing toponym information.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The column in the data containing unique text identifiers.</p></li>
<li><p><strong>post_id_column</strong> (<em>str</em>) – The column in the data containing post identifiers for comments and replies.</p></li>
<li><p><strong>parents_stack_column</strong> (<em>str</em>) – The column in the data containing information about parent-child relationships to comments.</p></li>
<li><p><strong>semantic_key_filter</strong> (<em>float</em><em>, </em><em>optional</em>) – The threshold for semantic key filtering. Defaults to 0.75.</p></li>
<li><p><strong>top_n</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of top keywords to extract. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>Processed data with extracted keywords, toponym counts, and word counts.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.fill_empty_toponym">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fill_empty_toponym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.fill_empty_toponym"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.fill_empty_toponym" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.get_coordinates">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geocoded_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_coordinates"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.get_coordinates" title="Link to this definition"></a></dt>
<dd><p>Get and write coordinates from geometry column in gpd.GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – Prebuild input graph.</p></li>
<li><p><strong>geocoded_data</strong> (<em>gpd.GeoDataFrame</em>) – Data containing toponim, location and geometry of toponim.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The name of the column containing the toponim data.</p></li>
<li><p><strong>location_column</strong> (<em>str</em>) – The name of the column containing the location data.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em>) – The name of the column containing the geometry data.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>Graph with toponym nodes („tag“==“TOPONYM“) containing information
about address and geometry („Location“,“Lon“,“Lat“ as node attributes)</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.get_house_text_id">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_house_text_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geocoded_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_house_text_id"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.get_house_text_id" title="Link to this definition"></a></dt>
<dd><p>Get house text ids from geocoded data and assign them to the graph nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>geocoded_data</strong> (<em>gpd.GeoDataFrame</em>) – Data containing geocoded information.</p></li>
<li><p><strong>text_id_column</strong> (<em>str</em>) – The name of the column containing the text id.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the column containing the text.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with assigned text ids to the nodes.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.get_semantic_closeness">
<span class="sig-name descname"><span class="pre">get_semantic_closeness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">similarity_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.75</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_semantic_closeness"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.get_semantic_closeness" title="Link to this definition"></a></dt>
<dd><p>Calculate the semantic closeness between unique words in the specified column of the input DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>column</strong> (<em>str</em>) – The column in the DataFrame to calculate semantic closeness for.</p></li>
<li><p><strong>similarity_filter</strong> (<em>float = 0.75</em>) – The score of cosine semantic proximity, from which and upper the edge</p></li>
<li><p><strong>generated.</strong> (<em>will be</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame or GeoDataFrame containing the pairs of words with their
similarity scores.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.get_tag">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponyms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_tag"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.get_tag" title="Link to this definition"></a></dt>
<dd><p>Get attributes of part of speech for the given nodes, with the option to specify toponyms.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – list of strings representing the nodes</p></li>
<li><p><strong>toponyms</strong> (<em>list</em>) – list of strings representing the toponyms</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary containing attributes for the nodes</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.get_text_ids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_text_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filtered_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_text_ids"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.get_text_ids" title="Link to this definition"></a></dt>
<dd><p>Update the text_ids attribute of nodes in the graph based on the provided filtered data.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>filtered_data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The data to filter.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column name in filtered_data containing toponyms.</p></li>
<li><p><strong>text_id_column</strong> (<em>str</em>) – The column name in filtered_data containing text IDs.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with updated text_ids attributes.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.semantic_graph.Semgraph.update_graph">
<span class="sig-name descname"><span class="pre">update_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parents_stack_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counts_attribute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.update_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.semantic_graph.Semgraph.update_graph" title="Link to this definition"></a></dt>
<dd><p>Update the input graph based on the provided data, returning the updated graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph to be updated.</p></li>
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input data to update the graph.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The column containing unique identifiers.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The column containing text information.</p></li>
<li><p><strong>text_type_column</strong> (<em>str</em>) – The column indicating the type of text.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column containing toponym information.</p></li>
<li><p><strong>toponym_name_column</strong> (<em>str</em>) – The column containing toponym names.</p></li>
<li><p><strong>toponym_type_column</strong> (<em>str</em>) – The column containing toponym types.</p></li>
<li><p><strong>post_id_column</strong> (<em>str</em>) – The column containing post identifiers.</p></li>
<li><p><strong>parents_stack_column</strong> (<em>str</em>) – The column containing parent-child relationships.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Flag indicating if the graph is directed. Defaults to True.</p></li>
<li><p><strong>counts_attribute</strong> (<em>str</em><em> or </em><em>None</em>) – The attribute to be used for counting. Defaults to None.</p></li>
<li><p><strong>location_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing location information. Defaults to None.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing geometry information. Defaults to None.</p></li>
<li><p><strong>key_score_filter</strong> (<em>float</em>) – The threshold for key score filtering. Defaults to 0.6.</p></li>
<li><p><strong>semantic_score_filter</strong> (<em>float</em>) – The threshold for semantic score filtering. Defaults to 0.75.</p></li>
<li><p><strong>top_n</strong> (<em>int</em>) – The number of top keywords to extract. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated graph.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src.text_classifiers">
<span id="sloyka-src-text-classifiers-module"></span><h2>sloyka.src.text_classifiers module<a class="headerlink" href="#module-sloyka.src.text_classifiers" title="Link to this heading"></a></h2>
<p>This module contains the TextClassifiers class, which is aimed to classify input texts into themes or structured types of events.
It uses a Huggingface transformer model trained on rubert-tiny.
In many cases, the count of messages per theme was too low to efficiently train, so synthetic themes based
on the categories as the upper level were used (for example, „unknown_ЖКХ“).</p>
<p>Attributes:
- repository_id (str): The repository ID.
- number_of_categories (int): The number of categories.
- device_type (str): The type of device.</p>
<p>The TextClassifiers class has the following methods:</p>
<p>&#64;method:initialize_classifier: Initializes the text classification pipeline with the specified model, tokenizer, and device type.</p>
<dl class="simple">
<dt>&#64;method:run_text_classifier_topics:</dt><dd><p>Takes a text as input and returns the predicted themes and probabilities.</p>
</dd>
<dt>&#64;method:run_text_classifier:</dt><dd><p>Takes a text as input and returns the predicted categories and probabilities.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.text_classifiers.TextClassifiers">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.text_classifiers.</span></span><span class="sig-name descname"><span class="pre">TextClassifiers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repository_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.text_classifiers.TextClassifiers" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is aimed to classify input texts into themes, or structured types of events. It uses a Huggingface transformer model trained on rubert-tiny.
In many cases count of messages per theme was too low to efficiently train, so we used synthetic themes based on the categories as upper level (for example, „unknown_ЖКХ“)</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.text_classifiers.TextClassifiers.initialize_classifier">
<span class="sig-name descname"><span class="pre">initialize_classifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers.initialize_classifier"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.text_classifiers.TextClassifiers.initialize_classifier" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.text_classifiers.TextClassifiers.run_text_classifier">
<span class="sig-name descname"><span class="pre">run_text_classifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers.run_text_classifier"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.text_classifiers.TextClassifiers.run_text_classifier" title="Link to this definition"></a></dt>
<dd><p>This method takes a text as input and returns the predicted categories and probabilities.
:param t: text to classify
:return: list of predicted categories and probabilities</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.text_classifiers.TextClassifiers.run_text_classifier_topics">
<span class="sig-name descname"><span class="pre">run_text_classifier_topics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers.run_text_classifier_topics"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.text_classifiers.TextClassifiers.run_text_classifier_topics" title="Link to this definition"></a></dt>
<dd><p>This method takes a text as input and returns the predicted themes and probabilities.
:param t: text to classify
:return: list of predicted themes and probabilities</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-sloyka.src">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sloyka.src" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.AreaMatcher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">AreaMatcher</span></span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.AreaMatcher" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.AreaMatcher.get_df_areas">
<span class="sig-name descname"><span class="pre">get_df_areas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.get_df_areas"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.AreaMatcher.get_df_areas" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.AreaMatcher.match_group_to_area">
<span class="sig-name descname"><span class="pre">match_group_to_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.match_group_to_area"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.AreaMatcher.match_group_to_area" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.AreaMatcher.preprocess_area_names">
<span class="sig-name descname"><span class="pre">preprocess_area_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.preprocess_area_names"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.AreaMatcher.preprocess_area_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.AreaMatcher.preprocess_group_name">
<span class="sig-name descname"><span class="pre">preprocess_group_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.preprocess_group_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.AreaMatcher.preprocess_group_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.AreaMatcher.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/area_matcher.html#AreaMatcher.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.AreaMatcher.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.City_services">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">City_services</span></span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.City_services" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.City_services.extraction_services">
<span class="sig-name descname"><span class="pre">extraction_services</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.extraction_services"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.City_services.extraction_services" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.City_services.remove_last_letter">
<span class="sig-name descname"><span class="pre">remove_last_letter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.remove_last_letter"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.City_services.remove_last_letter" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.City_services.replace_with_most_similar">
<span class="sig-name descname"><span class="pre">replace_with_most_similar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.replace_with_most_similar"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.City_services.replace_with_most_similar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.City_services.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/city_services_extract.html#City_services.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.City_services.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.EmotionRecognizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">EmotionRecognizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Text.Bert_Large</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/emotionclass.html#EmotionRecognizer"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.EmotionRecognizer" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is designed to categorise input texts into emotion categories.</p>
<blockquote>
<div><p>Attributes:</p>
</div></blockquote>
<ul class="simple">
<li><p>model: This attribute holds the model used for emotion recognition. It defaults to HuggingFaceModel.Text.Bert_Large,</p></li>
</ul>
<p>but can be set to any other compatible model during the instantiation of the class.</p>
<ul class="simple">
<li><p>device: the device to use for inference. It automatically selects „cuda“ (GPU) if a compatible GPU</p></li>
</ul>
<p>is available and CUDA is enabled, otherwise, it falls back to „cpu“.</p>
<ul class="simple">
<li><p>text: The text to be analyzed.</p></li>
<li><p>df: The DataFrame containing the text to be analyzed.</p></li>
<li><p>text_column: The name of the column containing the text to be analyzed.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.EmotionRecognizer.recognize_average_emotion_from_multiple_models">
<span class="sig-name descname"><span class="pre">recognize_average_emotion_from_multiple_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/emotionclass.html#EmotionRecognizer.recognize_average_emotion_from_multiple_models"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.EmotionRecognizer.recognize_average_emotion_from_multiple_models" title="Link to this definition"></a></dt>
<dd><p>Calculate the prevailing emotion using multiple models for a DataFrame column.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.EmotionRecognizer.recognize_emotion">
<span class="sig-name descname"><span class="pre">recognize_emotion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/emotionclass.html#EmotionRecognizer.recognize_emotion"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.EmotionRecognizer.recognize_emotion" title="Link to this definition"></a></dt>
<dd><p>Return the emotion for a given text.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.EventDetection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">EventDetection</span></span><a class="reference internal" href="../_modules/sloyka/src/event_detection.html#EventDetection"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.EventDetection" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is aimed to generate events and their connections.
It is based on the application of semantic clustering method (BERTopic)
on the texts in the context of urban spatial model</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.EventDetection.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath_to_population</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_event_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/event_detection.html#EventDetection.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.EventDetection.run" title="Link to this definition"></a></dt>
<dd><p>Returns a GeoDataFrame of events, a GeoDataFrame of
connections between events, and a GeoDataFrame of messages.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.GeoDataGetter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">GeoDataGetter</span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#GeoDataGetter"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.GeoDataGetter" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is used to retrieve geospatial data from OpenStreetMap (OSM) based on given OSM ID and tags.</p>
<p>Methods:
- get_features_from_id: Retrieves features from the given OSM ID using the provided tags and OSM type, and returns the results as a GeoDataFrame.
- _get_place_from_id: Retrieves the place from the given OSM ID and OSM type.
- _process_tags: Processes the provided tags and returns a list of GeoDataFrames.
- _get_features_from_place: Retrieves features from a specific place based on category and tag.
- _handle_error: Handles any errors that occur during the process and prints an error message.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.GeoDataGetter.get_features_from_id">
<span class="sig-name descname"><span class="pre">get_features_from_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'R'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['tag',</span> <span class="pre">'element_type',</span> <span class="pre">'osmid',</span> <span class="pre">'name',</span> <span class="pre">'geometry',</span> <span class="pre">'centroid']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#GeoDataGetter.get_features_from_id"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.GeoDataGetter.get_features_from_id" title="Link to this definition"></a></dt>
<dd><p>Get features from the given OSM ID using the provided tags and OSM type, and return the results as a GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>tags</strong> (<em>dict</em>) – The tags to filter by.</p></li>
<li><p><strong>osm_type</strong> (<em>str</em><em>, </em><em>optional</em>) – The OpenStreetMap type. Defaults to «R».</p></li>
<li><p><strong>selected_columns</strong> (<em>list</em><em>, </em><em>optional</em>) – The selected columns to include in the result GeoDataFrame. Defaults to [„tag“, „element_type“, „osmid“, „name“, „geometry“, „centroid“].</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The GeoDataFrame containing the features.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.Geocoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">Geocoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Geor111y/flair-ner-addresses-extractor'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Санкт-Петербург'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a functionality of simple geocoder</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.assign_street">
<span class="sig-name descname"><span class="pre">assign_street</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.assign_street"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.assign_street" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.create_gdf">
<span class="sig-name descname"><span class="pre">create_gdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.create_gdf"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.create_gdf" title="Link to this definition"></a></dt>
<dd><p>Function simply creates gdf from the recognised geocoded geometries.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.dir_path">
<span class="sig-name descname"><span class="pre">dir_path</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/Users/test/Documents/code/sloyka/sloyka/src'</span></em><a class="headerlink" href="#sloyka.src.Geocoder.dir_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.extract_building_num">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_building_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">street_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'string'</span> <span class="pre">from</span> <span class="pre">'/opt/homebrew/Cellar/python&#64;3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/string.py'&gt;</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.extract_building_num"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.extract_building_num" title="Link to this definition"></a></dt>
<dd><p>The function finds the already extracted street name in the text
and searches for numbers related to building numbers in a certain range of indexes
around the street name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.extract_ner_street">
<span class="sig-name descname"><span class="pre">extract_ner_street</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.extract_ner_street"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.extract_ner_street" title="Link to this definition"></a></dt>
<dd><p>Function calls the pre-trained custom NER model to extract mentioned
addresses from the texts (usually comment) in social networks in
russian language.
The model scores 0.8 in F1 and other metrics.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.extract_toponym">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_toponym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">street_name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'string'</span> <span class="pre">from</span> <span class="pre">'/opt/homebrew/Cellar/python&#64;3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/string.py'&gt;</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.extract_toponym"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.extract_toponym" title="Link to this definition"></a></dt>
<dd><p>The function finds the already extracted street name in the text
and searches for words related to toponyms in a certain range of indexes
around the street name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.find_word_form">
<span class="sig-name descname"><span class="pre">find_word_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strts_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.find_word_form"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.find_word_form" title="Link to this definition"></a></dt>
<dd><p>In the Russian language, any word has different forms.
Since addresses are extracted from the texts in social networks,
they might be in any possible form. This function is aimed to match that
free form to the one that is used in the OSM database.</p>
<p>Since the stem is found there would be several streets with that stem
in their name.
However, the searching street name has its specific ending (form) and
not each matched street name could have it.</p>
<p>TODO: add spellchecker since there might be misspelled words.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.get_df_areas">
<span class="sig-name descname"><span class="pre">get_df_areas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_df_areas"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.get_df_areas" title="Link to this definition"></a></dt>
<dd><p>Retrieves the GeoDataFrame of areas corresponding to the given OSM ID and tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>tags</strong> (<em>dict</em>) – The tags to filter by.</p></li>
<li><p><strong>date</strong> (<em>str</em>) – The date of the data to retrieve.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The GeoDataFrame containing the areas.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
<p>This function first checks if the GeoDataFrame corresponding to the given OSM ID is already in the cache.
If it is, it returns the cached GeoDataFrame. Otherwise, it retrieves the GeoDataFrame from the HistGeoDataGetter,
filters out the „way“ elements, and adds it to the cache. Finally, it returns the GeoDataFrame from the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.get_level">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_level"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.get_level" title="Link to this definition"></a></dt>
<dd><p>Addresses in the messages are recognized on different scales:
1. Where we know the street name and house number – house level;
2. Where we know only street name – street level (with the centroid
geometry of the street);
3. Where we don’t know any info but the city – global level.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.get_ner_address_natasha">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_ner_address_natasha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EXCEPTIONS_CITY_COUNTRY</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_col</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'string'</span> <span class="pre">from</span> <span class="pre">'/opt/homebrew/Cellar/python&#64;3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/string.py'&gt;</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_ner_address_natasha"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.get_ner_address_natasha" title="Link to this definition"></a></dt>
<dd><p>The function extracts street names in the text, using the Natasha library,
in cases where BERT could not.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.get_stem">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_stem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">street_names_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_stem"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.get_stem" title="Link to this definition"></a></dt>
<dd><p>Function finds the stem of the word to find this stem in the street
names dictionary (df).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.get_street">
<span class="sig-name descname"><span class="pre">get_street</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.get_street"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.get_street" title="Link to this definition"></a></dt>
<dd><p>Function calls NER model and post-process result in order to extract
the address mentioned in the text.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.global_crs">
<span class="sig-name descname"><span class="pre">global_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4326</span></em><a class="headerlink" href="#sloyka.src.Geocoder.global_crs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.match_group_to_area">
<span class="sig-name descname"><span class="pre">match_group_to_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.match_group_to_area"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.match_group_to_area" title="Link to this definition"></a></dt>
<dd><p>Matches a given group name to an area in a DataFrame of areas.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_name</strong> (<em>str</em>) – The name of the group to match.</p></li>
<li><p><strong>df_areas</strong> (<em>DataFrame</em>) – The DataFrame containing the areas to match against.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple containing the best match for the group name and the admin level of the match.</dt><dd><p>If no match is found, returns (None, None).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.merge_to_initial_df">
<span class="sig-name descname"><span class="pre">merge_to_initial_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.merge_to_initial_df"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.merge_to_initial_df" title="Link to this definition"></a></dt>
<dd><p>This function merges geocoded df to the initial df in order to keep
all original attributes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.preprocess_area_names">
<span class="sig-name descname"><span class="pre">preprocess_area_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_areas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.preprocess_area_names"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.preprocess_area_names" title="Link to this definition"></a></dt>
<dd><p>Preprocesses the area names in the given DataFrame by removing specified stopwords, converting the names to lowercase,
and stemming them.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df_areas</strong> (<em>DataFrame</em>) – The DataFrame containing the area names.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The DataFrame with preprocessed area names, where the „area_name“ column contains the original names</dt><dd><p>with stopwords removed, the „area_name_processed“ column contains the lowercase names with special characters
removed, and the „area_stems“ column contains the stemmed names.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.preprocess_group_name">
<span class="sig-name descname"><span class="pre">preprocess_group_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.preprocess_group_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.preprocess_group_name" title="Link to this definition"></a></dt>
<dd><p>Preprocesses a group name by converting it to lowercase, removing special characters, and removing specified stopwords.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_name</strong> (<em>str</em>) – The group name to preprocess.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The preprocessed group name.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'group_name'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.run" title="Link to this definition"></a></dt>
<dd><p>Runs the data processing pipeline on the input DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_id</strong> (<em>int</em>) – The OpenStreetMap ID.</p></li>
<li><p><strong>tags</strong> (<em>dict</em>) – The tags to filter by.</p></li>
<li><p><strong>date</strong> (<em>str</em>) – The date of the data to retrieve.</p></li>
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the text column in the DataFrame. Defaults to «text».</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed DataFrame after running the data processing pipeline.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
<p>This function retrieves the GeoDataFrame of areas corresponding to the given OSM ID and tags.
It then preprocesses the area names and matches each group name to an area. The best match
and admin level are assigned to the DataFrame. The function also retrieves other geographic
objects and street names, preprocesses the street names, finds the word form, creates a GeoDataFrame,
merges it with the other geographic objects, assigns the street tag, and returns the final GeoDataFrame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Geocoder.set_global_repr_point">
<span class="sig-name descname"><span class="pre">set_global_repr_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/geocoder.html#Geocoder.set_global_repr_point"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Geocoder.set_global_repr_point" title="Link to this definition"></a></dt>
<dd><p>This function set the centroid (actually, representative point) of the
geocoded addresses to those texts that weren’t geocoded (or didn’t
contain any addresses according to the trained NER model).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">NER_parklike</span></span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.OSM_park_import">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OSM_park_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">city_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.OSM_park_import"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.OSM_park_import" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.cut_park_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cut_park_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.cut_park_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.cut_park_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.extract_parklike">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_parklike</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.extract_parklike"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.extract_parklike" title="Link to this definition"></a></dt>
<dd><p>The function extracts parklike entities in the text, using the Natasha library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.match_point_name">
<span class="sig-name descname"><span class="pre">match_point_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.match_point_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.match_point_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.natasha_normalization">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">natasha_normalization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_ind</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.natasha_normalization"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.natasha_normalization" title="Link to this definition"></a></dt>
<dd><p>This function extracts entities and normalize them. For entities that match the
extraction of «extract_parklike», it returns a normalized form.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.run"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.similar">
<span class="sig-name descname"><span class="pre">similar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.similar"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.similar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.NER_parklike.split_parkwords">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split_parkwords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/ner_parklike.html#NER_parklike.split_parkwords"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.NER_parklike.split_parkwords" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.Semgraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">Semgraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bert_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'DeepPavlov/rubert-base-cased'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'russian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the main class of semantic graph module.
It is aimed to build a semantic graph based on the provided data and parameters.
More convinient to use after extracting data from geocoder.</p>
<p>Param:
bert_name: the name of the BERT model to use (default is „DeepPavlov/rubert-base-cased“)
language: the language of the BERT model (default is „russian“)
device: the device to use for inference (default is „cpu“)</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.add_attributes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.add_attributes"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.add_attributes" title="Link to this definition"></a></dt>
<dd><p>Add attributes to nodes in the graph based on the specified conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The graph to which attributes will be added.</p></li>
<li><p><strong>new_attributes</strong> (<em>dict</em>) – A dictionary containing the new attributes to be added.</p></li>
<li><p><strong>attribute_tag</strong> (<em>str</em>) – The tag of the attribute to be added.</p></li>
<li><p><strong>toponym_attributes</strong> (<em>bool</em>) – A boolean flag indicating whether to add attributes to toponyms.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with the new attributes added.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.add_city_graph">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_city_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">districts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">municipals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">district_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.add_city_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.add_city_graph" title="Link to this definition"></a></dt>
<dd><p>Add a city graph to the input graph based on the provided district and municipal data.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>districts</strong> (<em>gpd.GeoDataFrame</em>) – The district data.</p></li>
<li><p><strong>municipals</strong> (<em>gpd.GeoDataFrame</em>) – The municipal data.</p></li>
<li><p><strong>city_column</strong> (<em>str</em>) – The column name in districts containing the city data.</p></li>
<li><p><strong>district_column</strong> (<em>str</em>) – The column name in municipals containing the district data.</p></li>
<li><p><strong>name_column</strong> (<em>str</em>) – The column name in districts and municipals containing the name data.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em>) – The column name in districts and municipals containing the geometry data.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Whether the graph should be directed. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with the added city graph.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.build_graph">
<span class="sig-name descname"><span class="pre">build_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parents_stack_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.build_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.build_graph" title="Link to this definition"></a></dt>
<dd><p>Build a graph based on the provided data.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input data to build the graph from.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The column containing unique identifiers.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The column containing text information.</p></li>
<li><p><strong>text_type_column</strong> (<em>str</em>) – The column indicating the type of text.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column containing toponym information.</p></li>
<li><p><strong>toponym_name_column</strong> (<em>str</em>) – The column containing toponym names.</p></li>
<li><p><strong>toponym_type_column</strong> (<em>str</em>) – The column containing toponym types.</p></li>
<li><p><strong>post_id_column</strong> (<em>str</em>) – The column containing post identifiers.</p></li>
<li><p><strong>parents_stack_column</strong> (<em>str</em>) – The column containing parent-child relationships.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Flag indicating if the graph is directed. Defaults to True.</p></li>
<li><p><strong>location_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing location information. Defaults to None.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing geometry information. Defaults to None.</p></li>
<li><p><strong>key_score_filter</strong> (<em>float</em>) – The threshold for key score filtering. Defaults to 0.6.</p></li>
<li><p><strong>semantic_score_filter</strong> (<em>float</em>) – The threshold for semantic score filtering. Defaults to 0.75.</p></li>
<li><p><strong>top_n</strong> (<em>int</em>) – The number of top keywords to extract. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The constructed graph.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.calculate_distances">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.calculate_distances"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.calculate_distances" title="Link to this definition"></a></dt>
<dd><p>Calculate the distances between pairs of nodes in the graph and add them as edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Whether the graph should be directed or undirected. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>NetworkX graph object with added distance edges</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>G</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.clean_from_digits">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_digits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_digits"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.clean_from_digits" title="Link to this definition"></a></dt>
<dd><p>Removes digits from the text in the specified column of the input DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the text column to clean.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The DataFrame with the specified text column cleaned from digits.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.clean_from_dublicates">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_dublicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_dublicates"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.clean_from_dublicates" title="Link to this definition"></a></dt>
<dd><p>A function to clean a DataFrame from duplicates based on specified columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – The input DataFrame to be cleaned.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The name of the column to use as the unique identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A cleaned DataFrame or GeoDataFrame without duplicates based on the
specified text column.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.clean_from_links">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_links"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.clean_from_links" title="Link to this definition"></a></dt>
<dd><p>Clean the text in the specified text column by removing links and specific patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the column containing the text to be cleaned.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The DataFrame with the cleaned text.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.clean_from_toponyms">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean_from_toponyms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.clean_from_toponyms"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.clean_from_toponyms" title="Link to this definition"></a></dt>
<dd><p>Clean the text in the specified text column by removing any words that match the toponyms in the name
and toponym columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the column containing the text to be cleaned.</p></li>
<li><p><strong>name_column</strong> (<em>str</em>) – The name of the column containing the toponym name (e.g. Nevski, Moika etc).</p></li>
<li><p><strong>toponym_type_column</strong> (<em>str</em>) – The name of the column containing the toponym type</p></li>
<li><p><strong>street</strong> (<em>(</em><em>e.g.</em>)</p></li>
<li><p><strong>alley</strong></p></li>
<li><p><strong>etc.</strong><strong>)</strong><strong>.</strong> (<em>avenue</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The DataFrame or GeoDataFrame with the cleaned text.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.convert_df_to_edge_df">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_df_to_edge_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_info_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'words_score'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.convert_df_to_edge_df"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.convert_df_to_edge_df" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.extract_keywords">
<span class="sig-name descname"><span class="pre">extract_keywords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parents_stack_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_key_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.extract_keywords"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.extract_keywords" title="Link to this definition"></a></dt>
<dd><p>Extract keywords from the given data based on certain criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input data containing information.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The column in the data containing text information.</p></li>
<li><p><strong>text_type_column</strong> (<em>str</em>) – The column in the data indicating the type of text (e.g., post, comment, reply).</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column in the data containing toponym information.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The column in the data containing unique text identifiers.</p></li>
<li><p><strong>post_id_column</strong> (<em>str</em>) – The column in the data containing post identifiers for comments and replies.</p></li>
<li><p><strong>parents_stack_column</strong> (<em>str</em>) – The column in the data containing information about parent-child relationships to comments.</p></li>
<li><p><strong>semantic_key_filter</strong> (<em>float</em><em>, </em><em>optional</em>) – The threshold for semantic key filtering. Defaults to 0.75.</p></li>
<li><p><strong>top_n</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of top keywords to extract. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>Processed data with extracted keywords, toponym counts, and word counts.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.fill_empty_toponym">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fill_empty_toponym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.fill_empty_toponym"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.fill_empty_toponym" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.get_coordinates">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geocoded_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_coordinates"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.get_coordinates" title="Link to this definition"></a></dt>
<dd><p>Get and write coordinates from geometry column in gpd.GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – Prebuild input graph.</p></li>
<li><p><strong>geocoded_data</strong> (<em>gpd.GeoDataFrame</em>) – Data containing toponim, location and geometry of toponim.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The name of the column containing the toponim data.</p></li>
<li><p><strong>location_column</strong> (<em>str</em>) – The name of the column containing the location data.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em>) – The name of the column containing the geometry data.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>Graph with toponym nodes („tag“==“TOPONYM“) containing information
about address and geometry („Location“,“Lon“,“Lat“ as node attributes)</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.get_house_text_id">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_house_text_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geocoded_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_house_text_id"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.get_house_text_id" title="Link to this definition"></a></dt>
<dd><p>Get house text ids from geocoded data and assign them to the graph nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>geocoded_data</strong> (<em>gpd.GeoDataFrame</em>) – Data containing geocoded information.</p></li>
<li><p><strong>text_id_column</strong> (<em>str</em>) – The name of the column containing the text id.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The name of the column containing the text.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with assigned text ids to the nodes.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.get_semantic_closeness">
<span class="sig-name descname"><span class="pre">get_semantic_closeness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">similarity_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.75</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_semantic_closeness"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.get_semantic_closeness" title="Link to this definition"></a></dt>
<dd><p>Calculate the semantic closeness between unique words in the specified column of the input DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>column</strong> (<em>str</em>) – The column in the DataFrame to calculate semantic closeness for.</p></li>
<li><p><strong>similarity_filter</strong> (<em>float = 0.75</em>) – The score of cosine semantic proximity, from which and upper the edge</p></li>
<li><p><strong>generated.</strong> (<em>will be</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame or GeoDataFrame containing the pairs of words with their
similarity scores.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.get_tag">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponyms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_tag"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.get_tag" title="Link to this definition"></a></dt>
<dd><p>Get attributes of part of speech for the given nodes, with the option to specify toponyms.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – list of strings representing the nodes</p></li>
<li><p><strong>toponyms</strong> (<em>list</em>) – list of strings representing the toponyms</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary containing attributes for the nodes</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.get_text_ids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_text_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filtered_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.get_text_ids"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.get_text_ids" title="Link to this definition"></a></dt>
<dd><p>Update the text_ids attribute of nodes in the graph based on the provided filtered data.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph.</p></li>
<li><p><strong>filtered_data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The data to filter.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column name in filtered_data containing toponyms.</p></li>
<li><p><strong>text_id_column</strong> (<em>str</em>) – The column name in filtered_data containing text IDs.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph with updated text_ids attributes.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Semgraph.update_graph">
<span class="sig-name descname"><span class="pre">update_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_name_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toponym_type_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parents_stack_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counts_attribute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_score_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Graph</span></span></span><a class="reference internal" href="../_modules/sloyka/src/semantic_graph.html#Semgraph.update_graph"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Semgraph.update_graph" title="Link to this definition"></a></dt>
<dd><p>Update the input graph based on the provided data, returning the updated graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.classes.graph.Graph</em>) – The input graph to be updated.</p></li>
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em> or </em><em>gpd.GeoDataFrame</em>) – The input data to update the graph.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – The column containing unique identifiers.</p></li>
<li><p><strong>text_column</strong> (<em>str</em>) – The column containing text information.</p></li>
<li><p><strong>text_type_column</strong> (<em>str</em>) – The column indicating the type of text.</p></li>
<li><p><strong>toponym_column</strong> (<em>str</em>) – The column containing toponym information.</p></li>
<li><p><strong>toponym_name_column</strong> (<em>str</em>) – The column containing toponym names.</p></li>
<li><p><strong>toponym_type_column</strong> (<em>str</em>) – The column containing toponym types.</p></li>
<li><p><strong>post_id_column</strong> (<em>str</em>) – The column containing post identifiers.</p></li>
<li><p><strong>parents_stack_column</strong> (<em>str</em>) – The column containing parent-child relationships.</p></li>
<li><p><strong>directed</strong> (<em>bool</em>) – Flag indicating if the graph is directed. Defaults to True.</p></li>
<li><p><strong>counts_attribute</strong> (<em>str</em><em> or </em><em>None</em>) – The attribute to be used for counting. Defaults to None.</p></li>
<li><p><strong>location_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing location information. Defaults to None.</p></li>
<li><p><strong>geometry_column</strong> (<em>str</em><em> or </em><em>None</em>) – The column containing geometry information. Defaults to None.</p></li>
<li><p><strong>key_score_filter</strong> (<em>float</em>) – The threshold for key score filtering. Defaults to 0.6.</p></li>
<li><p><strong>semantic_score_filter</strong> (<em>float</em>) – The threshold for semantic score filtering. Defaults to 0.75.</p></li>
<li><p><strong>top_n</strong> (<em>int</em>) – The number of top keywords to extract. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated graph.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.classes.graph.Graph</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.Streets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">Streets</span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#Streets"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Streets" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class encapsulates functionality for retrieving street data
for a specified city from OSM and processing it to extract useful
information for geocoding purposes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.Streets.get_city_bounds">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_city_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_city_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm_city_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#Streets.get_city_bounds"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.Streets.get_city_bounds" title="Link to this definition"></a></dt>
<dd><p>Method retrieves the boundary of a specified city from OSM
using Overpass API and returns a GeoDataFrame representing
the boundary as a polygon.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.Streets.global_crs">
<span class="sig-name descname"><span class="pre">global_crs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4326</span></em><a class="headerlink" href="#sloyka.src.Streets.global_crs" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.TextClassifiers">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">TextClassifiers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repository_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.TextClassifiers" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is aimed to classify input texts into themes, or structured types of events. It uses a Huggingface transformer model trained on rubert-tiny.
In many cases count of messages per theme was too low to efficiently train, so we used synthetic themes based on the categories as upper level (for example, „unknown_ЖКХ“)</p>
<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.TextClassifiers.initialize_classifier">
<span class="sig-name descname"><span class="pre">initialize_classifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers.initialize_classifier"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.TextClassifiers.initialize_classifier" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.TextClassifiers.run_text_classifier">
<span class="sig-name descname"><span class="pre">run_text_classifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers.run_text_classifier"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.TextClassifiers.run_text_classifier" title="Link to this definition"></a></dt>
<dd><p>This method takes a text as input and returns the predicted categories and probabilities.
:param t: text to classify
:return: list of predicted categories and probabilities</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.TextClassifiers.run_text_classifier_topics">
<span class="sig-name descname"><span class="pre">run_text_classifier_topics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/text_classifiers.html#TextClassifiers.run_text_classifier_topics"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.TextClassifiers.run_text_classifier_topics" title="Link to this definition"></a></dt>
<dd><p>This method takes a text as input and returns the predicted themes and probabilities.
:param t: text to classify
:return: list of predicted themes and probabilities</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sloyka.src.VKParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sloyka.src.</span></span><span class="sig-name descname"><span class="pre">VKParser</span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser" title="Link to this definition"></a></dt>
<dd><p>Базовые классы: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.VKParser.API_VERISON">
<span class="sig-name descname"><span class="pre">API_VERISON</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'5.131'</span></em><a class="headerlink" href="#sloyka.src.VKParser.API_VERISON" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.VKParser.COUNT_ITEMS">
<span class="sig-name descname"><span class="pre">COUNT_ITEMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100</span></em><a class="headerlink" href="#sloyka.src.VKParser.COUNT_ITEMS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sloyka.src.VKParser.TIMEOUT_LIMIT">
<span class="sig-name descname"><span class="pre">TIMEOUT_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">15</span></em><a class="headerlink" href="#sloyka.src.VKParser.TIMEOUT_LIMIT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.comments_to_dataframe">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">comments_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comments</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.comments_to_dataframe"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.comments_to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Convert comments to a DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>comments</strong> – List of comments to be converted.</p>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing specific columns from the input comments.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.get_comments">
<span class="sig-name descname"><span class="pre">get_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_comments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.get_comments" title="Link to this definition"></a></dt>
<dd><p>Get comments for a post on VK using the specified owner ID, post ID, and access token.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the post owner.</p></li>
<li><p><strong>post_id</strong> (<em>int</em>) – The ID of the post.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for authentication.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of dictionaries containing comment information.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.get_group_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_group_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accsess_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_group_name"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.get_group_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.get_group_post_ids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_group_post_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_num_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_group_post_ids"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.get_group_post_ids" title="Link to this definition"></a></dt>
<dd><p>A static method to retrieve a list of post IDs for a given group, based on the owner ID,
access token, post number limit, and step size. Returns a list of post IDs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.get_owner_id_by_domain">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_owner_id_by_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_owner_id_by_domain"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.get_owner_id_by_domain" title="Link to this definition"></a></dt>
<dd><p>Get the owner ID of a VK group by its domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<em>str</em>) – The domain of the VK group.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for the VK API.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>The owner ID of the VK group, or None if the request was not successful.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.get_subcomments">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_subcomments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.get_subcomments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.get_subcomments" title="Link to this definition"></a></dt>
<dd><p>Retrieves subcomments from the VK API.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the owner of the comments.</p></li>
<li><p><strong>post_id</strong> (<em>int</em>) – The ID of the post.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The access token for authentication.</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – Additional parameters for the API request.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of subcomments retrieved from the API.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.run_comments">
<span class="sig-name descname"><span class="pre">run_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.run_comments"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.run_comments" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.run_parser">
<span class="sig-name descname"><span class="pre">run_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.run_parser"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.run_parser" title="Link to this definition"></a></dt>
<dd><p>Runs the parser with the given parameters and returns a combined DataFrame of posts and comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> – The owner ID for the parser.</p></li>
<li><p><strong>access_token</strong> – The user token for authentication.</p></li>
<li><p><strong>step</strong> – The step size for fetching data.</p></li>
<li><p><strong>cutoff_date</strong> – The cutoff date for fetching data.</p></li>
<li><p><strong>number_of_messages</strong> – The maximum number of messages to fetch. Defaults to positive infinity.</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A combined DataFrame of posts and comments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sloyka.src.VKParser.run_posts">
<span class="sig-name descname"><span class="pre">run_posts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_messages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sloyka/src/data_getter.html#VKParser.run_posts"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#sloyka.src.VKParser.run_posts" title="Link to this definition"></a></dt>
<dd><p>A function to retrieve posts from a social media API based on specified parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Параметры<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>owner_id</strong> (<em>int</em>) – The ID of the owner whose posts are being retrieved.</p></li>
<li><p><strong>access_token</strong> (<em>str</em>) – The authentication token for accessing the API.</p></li>
<li><p><strong>step</strong> (<em>int</em>) – The number of posts to retrieve in each API call.</p></li>
<li><p><strong>cutoff_date</strong> (<em>str</em>) – The date to stop retrieving posts (format: „%Y-%m-%d“).</p></li>
<li><p><strong>number_of_messages</strong> (<em>float</em>) – The maximum number of messages to retrieve (default is infinity).</p></li>
</ul>
</dd>
<dt class="field-even">Результат<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing the retrieved posts.</p>
</dd>
<dt class="field-odd">Тип результата<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="../about/installation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Предыдущая</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, itmo_idu
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">sloyka.src package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-sloyka.src.area_matcher">sloyka.src.area_matcher module</a><ul>
<li><a class="reference internal" href="#sloyka.src.area_matcher.AreaMatcher"><code class="docutils literal notranslate"><span class="pre">AreaMatcher</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.area_matcher.AreaMatcher.get_df_areas"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.get_df_areas()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.area_matcher.AreaMatcher.match_group_to_area"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.match_group_to_area()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.area_matcher.AreaMatcher.preprocess_area_names"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.preprocess_area_names()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.area_matcher.AreaMatcher.preprocess_group_name"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.preprocess_group_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.area_matcher.AreaMatcher.run"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.city_services_extract">sloyka.src.city_services_extract module</a><ul>
<li><a class="reference internal" href="#sloyka.src.city_services_extract.City_services"><code class="docutils literal notranslate"><span class="pre">City_services</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.city_services_extract.City_services.extraction_services"><code class="docutils literal notranslate"><span class="pre">City_services.extraction_services()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.city_services_extract.City_services.remove_last_letter"><code class="docutils literal notranslate"><span class="pre">City_services.remove_last_letter()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.city_services_extract.City_services.replace_with_most_similar"><code class="docutils literal notranslate"><span class="pre">City_services.replace_with_most_similar()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.city_services_extract.City_services.run"><code class="docutils literal notranslate"><span class="pre">City_services.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.comments_reply">sloyka.src.comments_reply module</a><ul>
<li><a class="reference internal" href="#sloyka.src.comments_reply.CommentsReply"><code class="docutils literal notranslate"><span class="pre">CommentsReply</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.comments_reply.CommentsReply.comments_to_dataframe"><code class="docutils literal notranslate"><span class="pre">CommentsReply.comments_to_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.comments_reply.CommentsReply.get_comments"><code class="docutils literal notranslate"><span class="pre">CommentsReply.get_comments()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.comments_reply.CommentsReply.get_subcomments"><code class="docutils literal notranslate"><span class="pre">CommentsReply.get_subcomments()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.constants">sloyka.src.constants module</a></li>
<li><a class="reference internal" href="#module-sloyka.src.data_getter">sloyka.src.data_getter module</a><ul>
<li><a class="reference internal" href="#sloyka.src.data_getter.GeoDataGetter"><code class="docutils literal notranslate"><span class="pre">GeoDataGetter</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.data_getter.GeoDataGetter.get_features_from_id"><code class="docutils literal notranslate"><span class="pre">GeoDataGetter.get_features_from_id()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.data_getter.HistGeoDataGetter"><code class="docutils literal notranslate"><span class="pre">HistGeoDataGetter</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.data_getter.HistGeoDataGetter.get_features_from_id"><code class="docutils literal notranslate"><span class="pre">HistGeoDataGetter.get_features_from_id()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.HistGeoDataGetter.get_place_name_from_osm_id"><code class="docutils literal notranslate"><span class="pre">HistGeoDataGetter.get_place_name_from_osm_id()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.HistGeoDataGetter.query_year_from_osm_id"><code class="docutils literal notranslate"><span class="pre">HistGeoDataGetter.query_year_from_osm_id()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.HistGeoDataGetter.set_overpass_settings"><code class="docutils literal notranslate"><span class="pre">HistGeoDataGetter.set_overpass_settings()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.data_getter.Streets"><code class="docutils literal notranslate"><span class="pre">Streets</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.data_getter.Streets.get_city_bounds"><code class="docutils literal notranslate"><span class="pre">Streets.get_city_bounds()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.Streets.global_crs"><code class="docutils literal notranslate"><span class="pre">Streets.global_crs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser"><code class="docutils literal notranslate"><span class="pre">VKParser</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.API_VERISON"><code class="docutils literal notranslate"><span class="pre">VKParser.API_VERISON</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.COUNT_ITEMS"><code class="docutils literal notranslate"><span class="pre">VKParser.COUNT_ITEMS</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.TIMEOUT_LIMIT"><code class="docutils literal notranslate"><span class="pre">VKParser.TIMEOUT_LIMIT</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.comments_to_dataframe"><code class="docutils literal notranslate"><span class="pre">VKParser.comments_to_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.get_comments"><code class="docutils literal notranslate"><span class="pre">VKParser.get_comments()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.get_group_name"><code class="docutils literal notranslate"><span class="pre">VKParser.get_group_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.get_group_post_ids"><code class="docutils literal notranslate"><span class="pre">VKParser.get_group_post_ids()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.get_owner_id_by_domain"><code class="docutils literal notranslate"><span class="pre">VKParser.get_owner_id_by_domain()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.get_subcomments"><code class="docutils literal notranslate"><span class="pre">VKParser.get_subcomments()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.run_comments"><code class="docutils literal notranslate"><span class="pre">VKParser.run_comments()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.run_parser"><code class="docutils literal notranslate"><span class="pre">VKParser.run_parser()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.data_getter.VKParser.run_posts"><code class="docutils literal notranslate"><span class="pre">VKParser.run_posts()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.emotionclass">sloyka.src.emotionclass module</a><ul>
<li><a class="reference internal" href="#sloyka.src.emotionclass.EmotionRecognizer"><code class="docutils literal notranslate"><span class="pre">EmotionRecognizer</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.emotionclass.EmotionRecognizer.recognize_average_emotion_from_multiple_models"><code class="docutils literal notranslate"><span class="pre">EmotionRecognizer.recognize_average_emotion_from_multiple_models()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.emotionclass.EmotionRecognizer.recognize_emotion"><code class="docutils literal notranslate"><span class="pre">EmotionRecognizer.recognize_emotion()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.event_detection">sloyka.src.event_detection module</a><ul>
<li><a class="reference internal" href="#sloyka.src.event_detection.EventDetection"><code class="docutils literal notranslate"><span class="pre">EventDetection</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.event_detection.EventDetection.run"><code class="docutils literal notranslate"><span class="pre">EventDetection.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.geocoder">sloyka.src.geocoder module</a><ul>
<li><a class="reference internal" href="#sloyka.src.geocoder.AddrNEWExtractor"><code class="docutils literal notranslate"><span class="pre">AddrNEWExtractor</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.geocoder.AddrNEWExtractor.find"><code class="docutils literal notranslate"><span class="pre">AddrNEWExtractor.find()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder"><code class="docutils literal notranslate"><span class="pre">Geocoder</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.assign_street"><code class="docutils literal notranslate"><span class="pre">Geocoder.assign_street()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.create_gdf"><code class="docutils literal notranslate"><span class="pre">Geocoder.create_gdf()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.dir_path"><code class="docutils literal notranslate"><span class="pre">Geocoder.dir_path</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.extract_building_num"><code class="docutils literal notranslate"><span class="pre">Geocoder.extract_building_num()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.extract_ner_street"><code class="docutils literal notranslate"><span class="pre">Geocoder.extract_ner_street()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.extract_toponym"><code class="docutils literal notranslate"><span class="pre">Geocoder.extract_toponym()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.find_word_form"><code class="docutils literal notranslate"><span class="pre">Geocoder.find_word_form()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.get_df_areas"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_df_areas()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.get_level"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_level()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.get_ner_address_natasha"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_ner_address_natasha()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.get_stem"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_stem()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.get_street"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_street()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.global_crs"><code class="docutils literal notranslate"><span class="pre">Geocoder.global_crs</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.match_group_to_area"><code class="docutils literal notranslate"><span class="pre">Geocoder.match_group_to_area()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.merge_to_initial_df"><code class="docutils literal notranslate"><span class="pre">Geocoder.merge_to_initial_df()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.preprocess_area_names"><code class="docutils literal notranslate"><span class="pre">Geocoder.preprocess_area_names()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.preprocess_group_name"><code class="docutils literal notranslate"><span class="pre">Geocoder.preprocess_group_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.run"><code class="docutils literal notranslate"><span class="pre">Geocoder.run()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Geocoder.set_global_repr_point"><code class="docutils literal notranslate"><span class="pre">Geocoder.set_global_repr_point()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Location"><code class="docutils literal notranslate"><span class="pre">Location</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.geocoder.Location.geocode_with_retry"><code class="docutils literal notranslate"><span class="pre">Location.geocode_with_retry()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Location.max_tries"><code class="docutils literal notranslate"><span class="pre">Location.max_tries</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Location.query"><code class="docutils literal notranslate"><span class="pre">Location.query()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.calculate_centroid"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.calculate_centroid()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.combine_city_obj"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.combine_city_obj()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.expand_toponim"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.expand_toponim()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.extract_geo_obj"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.extract_geo_obj()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.find_geo_obj_tag"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.find_geo_obj_tag()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.find_geometry"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.find_geometry()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.find_num_city_obj"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.find_num_city_obj()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_cemetery"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_cemetery()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_green_obj"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_green_obj()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_historic"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_historic()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_natural"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_natural()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_num_obj"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_num_obj()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_railway"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_railway()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_square"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_square()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_OSM_tourism"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_OSM_tourism()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.get_and_process_osm_data"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.get_and_process_osm_data()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.restoration_of_normal_form"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.restoration_of_normal_form()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.run"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.run()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.OtherGeoObjects.run_OSM_dfs"><code class="docutils literal notranslate"><span class="pre">OtherGeoObjects.run_OSM_dfs()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets"><code class="docutils literal notranslate"><span class="pre">Streets</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.clear_names"><code class="docutils literal notranslate"><span class="pre">Streets.clear_names()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.drop_words_from_name"><code class="docutils literal notranslate"><span class="pre">Streets.drop_words_from_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.find_toponim_words_from_name"><code class="docutils literal notranslate"><span class="pre">Streets.find_toponim_words_from_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.get_city_bounds"><code class="docutils literal notranslate"><span class="pre">Streets.get_city_bounds()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.get_drive_graph"><code class="docutils literal notranslate"><span class="pre">Streets.get_drive_graph()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.get_street_names"><code class="docutils literal notranslate"><span class="pre">Streets.get_street_names()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.global_crs"><code class="docutils literal notranslate"><span class="pre">Streets.global_crs</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.graph_to_gdf"><code class="docutils literal notranslate"><span class="pre">Streets.graph_to_gdf()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.geocoder.Streets.run"><code class="docutils literal notranslate"><span class="pre">Streets.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.graph_visualization">sloyka.src.graph_visualization module</a><ul>
<li><a class="reference internal" href="#sloyka.src.graph_visualization.visualize_graph"><code class="docutils literal notranslate"><span class="pre">visualize_graph()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.ner_parklike">sloyka.src.ner_parklike module</a><ul>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.AddrNEWExtractor"><code class="docutils literal notranslate"><span class="pre">AddrNEWExtractor</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.AddrNEWExtractor.find"><code class="docutils literal notranslate"><span class="pre">AddrNEWExtractor.find()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike"><code class="docutils literal notranslate"><span class="pre">NER_parklike</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.OSM_park_import"><code class="docutils literal notranslate"><span class="pre">NER_parklike.OSM_park_import()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.cut_park_name"><code class="docutils literal notranslate"><span class="pre">NER_parklike.cut_park_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.extract_parklike"><code class="docutils literal notranslate"><span class="pre">NER_parklike.extract_parklike()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.match_point_name"><code class="docutils literal notranslate"><span class="pre">NER_parklike.match_point_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.natasha_normalization"><code class="docutils literal notranslate"><span class="pre">NER_parklike.natasha_normalization()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.run"><code class="docutils literal notranslate"><span class="pre">NER_parklike.run()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.similar"><code class="docutils literal notranslate"><span class="pre">NER_parklike.similar()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.ner_parklike.NER_parklike.split_parkwords"><code class="docutils literal notranslate"><span class="pre">NER_parklike.split_parkwords()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.rule_for_natasha">sloyka.src.rule_for_natasha module</a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.AddrPart"><code class="docutils literal notranslate"><span class="pre">AddrPart</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.AddrPart.obj"><code class="docutils literal notranslate"><span class="pre">AddrPart.obj</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Building"><code class="docutils literal notranslate"><span class="pre">Building</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Building.value"><code class="docutils literal notranslate"><span class="pre">Building.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Index"><code class="docutils literal notranslate"><span class="pre">Index</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Index.type"><code class="docutils literal notranslate"><span class="pre">Index.type</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Raion"><code class="docutils literal notranslate"><span class="pre">Raion</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Raion.value"><code class="docutils literal notranslate"><span class="pre">Raion.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Region"><code class="docutils literal notranslate"><span class="pre">Region</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Region.value"><code class="docutils literal notranslate"><span class="pre">Region.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Room"><code class="docutils literal notranslate"><span class="pre">Room</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Room.value"><code class="docutils literal notranslate"><span class="pre">Room.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Settlement"><code class="docutils literal notranslate"><span class="pre">Settlement</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Settlement.value"><code class="docutils literal notranslate"><span class="pre">Settlement.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Street"><code class="docutils literal notranslate"><span class="pre">Street</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.Street.value"><code class="docutils literal notranslate"><span class="pre">Street.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.rule_for_natasha.value"><code class="docutils literal notranslate"><span class="pre">value()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.semantic_graph">sloyka.src.semantic_graph module</a><ul>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph"><code class="docutils literal notranslate"><span class="pre">Semgraph</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.add_attributes"><code class="docutils literal notranslate"><span class="pre">Semgraph.add_attributes()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.add_city_graph"><code class="docutils literal notranslate"><span class="pre">Semgraph.add_city_graph()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.build_graph"><code class="docutils literal notranslate"><span class="pre">Semgraph.build_graph()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.calculate_distances"><code class="docutils literal notranslate"><span class="pre">Semgraph.calculate_distances()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.clean_from_digits"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_digits()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.clean_from_dublicates"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_dublicates()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.clean_from_links"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_links()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.clean_from_toponyms"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_toponyms()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.convert_df_to_edge_df"><code class="docutils literal notranslate"><span class="pre">Semgraph.convert_df_to_edge_df()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.extract_keywords"><code class="docutils literal notranslate"><span class="pre">Semgraph.extract_keywords()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.fill_empty_toponym"><code class="docutils literal notranslate"><span class="pre">Semgraph.fill_empty_toponym()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.get_coordinates"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_coordinates()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.get_house_text_id"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_house_text_id()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.get_semantic_closeness"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_semantic_closeness()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.get_tag"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_tag()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.get_text_ids"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_text_ids()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.semantic_graph.Semgraph.update_graph"><code class="docutils literal notranslate"><span class="pre">Semgraph.update_graph()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src.text_classifiers">sloyka.src.text_classifiers module</a><ul>
<li><a class="reference internal" href="#sloyka.src.text_classifiers.TextClassifiers"><code class="docutils literal notranslate"><span class="pre">TextClassifiers</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.text_classifiers.TextClassifiers.initialize_classifier"><code class="docutils literal notranslate"><span class="pre">TextClassifiers.initialize_classifier()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.text_classifiers.TextClassifiers.run_text_classifier"><code class="docutils literal notranslate"><span class="pre">TextClassifiers.run_text_classifier()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.text_classifiers.TextClassifiers.run_text_classifier_topics"><code class="docutils literal notranslate"><span class="pre">TextClassifiers.run_text_classifier_topics()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-sloyka.src">Module contents</a><ul>
<li><a class="reference internal" href="#sloyka.src.AreaMatcher"><code class="docutils literal notranslate"><span class="pre">AreaMatcher</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.AreaMatcher.get_df_areas"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.get_df_areas()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.AreaMatcher.match_group_to_area"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.match_group_to_area()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.AreaMatcher.preprocess_area_names"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.preprocess_area_names()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.AreaMatcher.preprocess_group_name"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.preprocess_group_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.AreaMatcher.run"><code class="docutils literal notranslate"><span class="pre">AreaMatcher.run()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.City_services"><code class="docutils literal notranslate"><span class="pre">City_services</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.City_services.extraction_services"><code class="docutils literal notranslate"><span class="pre">City_services.extraction_services()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.City_services.remove_last_letter"><code class="docutils literal notranslate"><span class="pre">City_services.remove_last_letter()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.City_services.replace_with_most_similar"><code class="docutils literal notranslate"><span class="pre">City_services.replace_with_most_similar()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.City_services.run"><code class="docutils literal notranslate"><span class="pre">City_services.run()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.EmotionRecognizer"><code class="docutils literal notranslate"><span class="pre">EmotionRecognizer</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.EmotionRecognizer.recognize_average_emotion_from_multiple_models"><code class="docutils literal notranslate"><span class="pre">EmotionRecognizer.recognize_average_emotion_from_multiple_models()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.EmotionRecognizer.recognize_emotion"><code class="docutils literal notranslate"><span class="pre">EmotionRecognizer.recognize_emotion()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.EventDetection"><code class="docutils literal notranslate"><span class="pre">EventDetection</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.EventDetection.run"><code class="docutils literal notranslate"><span class="pre">EventDetection.run()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.GeoDataGetter"><code class="docutils literal notranslate"><span class="pre">GeoDataGetter</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.GeoDataGetter.get_features_from_id"><code class="docutils literal notranslate"><span class="pre">GeoDataGetter.get_features_from_id()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.Geocoder"><code class="docutils literal notranslate"><span class="pre">Geocoder</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.Geocoder.assign_street"><code class="docutils literal notranslate"><span class="pre">Geocoder.assign_street()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.create_gdf"><code class="docutils literal notranslate"><span class="pre">Geocoder.create_gdf()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.dir_path"><code class="docutils literal notranslate"><span class="pre">Geocoder.dir_path</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.extract_building_num"><code class="docutils literal notranslate"><span class="pre">Geocoder.extract_building_num()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.extract_ner_street"><code class="docutils literal notranslate"><span class="pre">Geocoder.extract_ner_street()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.extract_toponym"><code class="docutils literal notranslate"><span class="pre">Geocoder.extract_toponym()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.find_word_form"><code class="docutils literal notranslate"><span class="pre">Geocoder.find_word_form()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.get_df_areas"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_df_areas()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.get_level"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_level()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.get_ner_address_natasha"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_ner_address_natasha()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.get_stem"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_stem()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.get_street"><code class="docutils literal notranslate"><span class="pre">Geocoder.get_street()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.global_crs"><code class="docutils literal notranslate"><span class="pre">Geocoder.global_crs</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.match_group_to_area"><code class="docutils literal notranslate"><span class="pre">Geocoder.match_group_to_area()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.merge_to_initial_df"><code class="docutils literal notranslate"><span class="pre">Geocoder.merge_to_initial_df()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.preprocess_area_names"><code class="docutils literal notranslate"><span class="pre">Geocoder.preprocess_area_names()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.preprocess_group_name"><code class="docutils literal notranslate"><span class="pre">Geocoder.preprocess_group_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.run"><code class="docutils literal notranslate"><span class="pre">Geocoder.run()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Geocoder.set_global_repr_point"><code class="docutils literal notranslate"><span class="pre">Geocoder.set_global_repr_point()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike"><code class="docutils literal notranslate"><span class="pre">NER_parklike</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.OSM_park_import"><code class="docutils literal notranslate"><span class="pre">NER_parklike.OSM_park_import()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.cut_park_name"><code class="docutils literal notranslate"><span class="pre">NER_parklike.cut_park_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.extract_parklike"><code class="docutils literal notranslate"><span class="pre">NER_parklike.extract_parklike()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.match_point_name"><code class="docutils literal notranslate"><span class="pre">NER_parklike.match_point_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.natasha_normalization"><code class="docutils literal notranslate"><span class="pre">NER_parklike.natasha_normalization()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.run"><code class="docutils literal notranslate"><span class="pre">NER_parklike.run()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.similar"><code class="docutils literal notranslate"><span class="pre">NER_parklike.similar()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.NER_parklike.split_parkwords"><code class="docutils literal notranslate"><span class="pre">NER_parklike.split_parkwords()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.Semgraph"><code class="docutils literal notranslate"><span class="pre">Semgraph</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.Semgraph.add_attributes"><code class="docutils literal notranslate"><span class="pre">Semgraph.add_attributes()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.add_city_graph"><code class="docutils literal notranslate"><span class="pre">Semgraph.add_city_graph()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.build_graph"><code class="docutils literal notranslate"><span class="pre">Semgraph.build_graph()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.calculate_distances"><code class="docutils literal notranslate"><span class="pre">Semgraph.calculate_distances()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.clean_from_digits"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_digits()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.clean_from_dublicates"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_dublicates()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.clean_from_links"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_links()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.clean_from_toponyms"><code class="docutils literal notranslate"><span class="pre">Semgraph.clean_from_toponyms()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.convert_df_to_edge_df"><code class="docutils literal notranslate"><span class="pre">Semgraph.convert_df_to_edge_df()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.extract_keywords"><code class="docutils literal notranslate"><span class="pre">Semgraph.extract_keywords()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.fill_empty_toponym"><code class="docutils literal notranslate"><span class="pre">Semgraph.fill_empty_toponym()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.get_coordinates"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_coordinates()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.get_house_text_id"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_house_text_id()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.get_semantic_closeness"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_semantic_closeness()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.get_tag"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_tag()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.get_text_ids"><code class="docutils literal notranslate"><span class="pre">Semgraph.get_text_ids()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Semgraph.update_graph"><code class="docutils literal notranslate"><span class="pre">Semgraph.update_graph()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.Streets"><code class="docutils literal notranslate"><span class="pre">Streets</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.Streets.get_city_bounds"><code class="docutils literal notranslate"><span class="pre">Streets.get_city_bounds()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.Streets.global_crs"><code class="docutils literal notranslate"><span class="pre">Streets.global_crs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.TextClassifiers"><code class="docutils literal notranslate"><span class="pre">TextClassifiers</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.TextClassifiers.initialize_classifier"><code class="docutils literal notranslate"><span class="pre">TextClassifiers.initialize_classifier()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.TextClassifiers.run_text_classifier"><code class="docutils literal notranslate"><span class="pre">TextClassifiers.run_text_classifier()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.TextClassifiers.run_text_classifier_topics"><code class="docutils literal notranslate"><span class="pre">TextClassifiers.run_text_classifier_topics()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sloyka.src.VKParser"><code class="docutils literal notranslate"><span class="pre">VKParser</span></code></a><ul>
<li><a class="reference internal" href="#sloyka.src.VKParser.API_VERISON"><code class="docutils literal notranslate"><span class="pre">VKParser.API_VERISON</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.COUNT_ITEMS"><code class="docutils literal notranslate"><span class="pre">VKParser.COUNT_ITEMS</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.TIMEOUT_LIMIT"><code class="docutils literal notranslate"><span class="pre">VKParser.TIMEOUT_LIMIT</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.comments_to_dataframe"><code class="docutils literal notranslate"><span class="pre">VKParser.comments_to_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.get_comments"><code class="docutils literal notranslate"><span class="pre">VKParser.get_comments()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.get_group_name"><code class="docutils literal notranslate"><span class="pre">VKParser.get_group_name()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.get_group_post_ids"><code class="docutils literal notranslate"><span class="pre">VKParser.get_group_post_ids()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.get_owner_id_by_domain"><code class="docutils literal notranslate"><span class="pre">VKParser.get_owner_id_by_domain()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.get_subcomments"><code class="docutils literal notranslate"><span class="pre">VKParser.get_subcomments()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.run_comments"><code class="docutils literal notranslate"><span class="pre">VKParser.run_comments()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.run_parser"><code class="docutils literal notranslate"><span class="pre">VKParser.run_parser()</span></code></a></li>
<li><a class="reference internal" href="#sloyka.src.VKParser.run_posts"><code class="docutils literal notranslate"><span class="pre">VKParser.run_posts()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=6ff560e8"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/js/hoverxref.js"></script>
    <script src="../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../_static/js/micromodal.min.js"></script>
    <script src="../_static/translations.js?v=29b1f277"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/rtd_search_config.js"></script>
    <script src="../_static/js/rtd_sphinx_search.min.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>